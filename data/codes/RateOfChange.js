window.registerIndicatorCode('RateOfChange', {"csharp_simple":"<div class=\"highlight\"><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">1</span><span class=\"k\">using</span> System;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">2</span><span class=\"k\">using</span> System.Collections.Generic;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">3</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">4</span><span class=\"k\">namespace</span> TechnicalIndicators</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">5</span>{</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">6</span>    <span class=\"c1\">/// &lt;summary&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">7</span>    <span class=\"c1\">/// Rate of Change (ROC)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">8</span>    <span class=\"c1\">/// &lt;/summary&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">9</span>    <span class=\"c1\">/// &lt;remarks&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">10</span>    <span class=\"c1\">/// Percentage change in price over N periods.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">11</span>    <span class=\"c1\">/// &lt;list type=&quot;bullet&quot;&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">12</span>    <span class=\"c1\">/// &lt;item&gt;&lt;description&gt;Momentum indicator showing velocity.&lt;/description&gt;&lt;/item&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">13</span>    <span class=\"c1\">/// &lt;item&gt;&lt;description&gt;Formula: ((Close - Close_N_Ago) / Close_N_Ago) * 100&lt;/description&gt;&lt;/item&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">14</span>    <span class=\"c1\">/// &lt;/list&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">15</span>    <span class=\"c1\">/// &lt;/remarks&gt;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">16</span>    <span class=\"k\">public</span> <span class=\"k\">class</span> <span class=\"nc\">RateOfChange</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">17</span>    {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">18</span>        <span class=\"k\">public</span> <span class=\"kt\">int</span> Period { <span class=\"k\">get</span>; }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">19</span>        <span class=\"k\">public</span> List&lt;<span class=\"kt\">decimal?</span>&gt; Values { <span class=\"k\">get</span>; } = <span class=\"k\">new</span>();</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">20</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">21</span>        <span class=\"k\">public</span> RateOfChange(<span class=\"kt\">int</span> period = 10)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">22</span>        {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">23</span>            <span class=\"k\">if</span> (period &lt;= 0) <span class=\"k\">throw</span> <span class=\"k\">new</span> ArgumentOutOfRangeException(<span class=\"k\">nameof</span>(period));</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">24</span>            Period = period;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">25</span>        }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">26</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">27</span>        <span class=\"k\">public</span> <span class=\"k\">void</span> Calculate(IEnumerable&lt;CandleData&gt; candles)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">28</span>        {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">29</span>            Values.Clear();</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">30</span>            <span class=\"kt\">var</span> candleList = <span class=\"k\">new</span> List&lt;CandleData&gt;(candles);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">31</span>            <span class=\"k\">if</span> (candleList.Count == 0) <span class=\"k\">return</span>;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">32</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">33</span>            <span class=\"k\">for</span> (<span class=\"kt\">int</span> i = 0; i &lt; candleList.Count; i++)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">34</span>            {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">35</span>                <span class=\"k\">if</span> (i &lt; Period)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">36</span>                {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">37</span>                    Values.Add(<span class=\"k\">null</span>);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">38</span>                }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">39</span>                <span class=\"k\">else</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">40</span>                {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">41</span>                    <span class=\"kt\">decimal</span> prevClose = candleList[i - Period].Close;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">42</span>                    <span class=\"k\">if</span> (prevClose == 0)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">43</span>                        Values.Add(<span class=\"k\">null</span>);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">44</span>                    <span class=\"k\">else</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">45</span>                        Values.Add(((candleList[i].Close - prevClose) / prevClose) * 100);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">46</span>                }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">47</span>            }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">48</span>        }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">49</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">50</span>        <span class=\"k\">public</span> <span class=\"k\">static</span> List&lt;<span class=\"kt\">decimal?</span>&gt; Calculate(IEnumerable&lt;CandleData&gt; candles, <span class=\"kt\">int</span> period = 10)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">51</span>        {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">52</span>            <span class=\"kt\">var</span> roc = <span class=\"k\">new</span> RateOfChange(period);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">53</span>            roc.Calculate(candles);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">54</span>            <span class=\"k\">return</span> roc.Values;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">55</span>        }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">56</span>    }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">57</span>}</div></div>","csharp_detailed":"<div class=\"highlight\"><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">1</span><span class=\"c1\">// =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">2</span><span class=\"c1\">// RATE OF CHANGE (ROC) - Extreme Tutorial Mode</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">3</span><span class=\"c1\">// =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">4</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">5</span><span class=\"c1\">// [What] Rate of Change (ROC) measures the percentage change between the</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">6</span><span class=\"c1\">//        current price and the price N periods ago. It is the percentage</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">7</span><span class=\"c1\">//        version of the Momentum indicator.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">8</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">9</span><span class=\"c1\">// [Why]  While Momentum shows absolute change (e.g., +$5), ROC normalizes this</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">10</span><span class=\"c1\">//        to a percentage. This allows:</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">11</span><span class=\"c1\">//        - Comparison across different price levels (a $100 vs $1000 stock)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">12</span><span class=\"c1\">//        - Comparison across different time periods</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">13</span><span class=\"c1\">//        - Standard overbought/oversold thresholds</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">14</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">15</span><span class=\"c1\">// [Visual] ROC vs Momentum Comparison:</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">16</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">17</span><span class=\"c1\">//   Stock A: $100 → $110 (+$10)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">18</span><span class=\"c1\">//   Stock B: $10  → $11  (+$1)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">19</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">20</span><span class=\"c1\">//   Momentum:  Stock A = +10,  Stock B = +1   (A seems stronger)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">21</span><span class=\"c1\">//   ROC:       Stock A = +10%, Stock B = +10% (Both rose equally!)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">22</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">23</span><span class=\"c1\">//   ┌─────────────────────────────────────────────────────────────────┐</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">24</span><span class=\"c1\">//   │  ROC normalizes price changes to percentages                   │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">25</span><span class=\"c1\">//   │  This enables apples-to-apples comparison                      │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">26</span><span class=\"c1\">//   └─────────────────────────────────────────────────────────────────┘</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">27</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">28</span><span class=\"c1\">// [How] Algorithm Overview:</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">29</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">30</span><span class=\"c1\">//   ┌─────────────────────────────────────────────────────────────────┐</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">31</span><span class=\"c1\">//   │ For each bar where i &gt;= Period:                                │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">32</span><span class=\"c1\">//   │                                                                 │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">33</span><span class=\"c1\">//   │   prevClose = Close[i - Period]                                │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">34</span><span class=\"c1\">//   │   ROC = ((Close[i] - prevClose) / prevClose) × 100             │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">35</span><span class=\"c1\">//   │                                                                 │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">36</span><span class=\"c1\">//   │ For bars where i &lt; Period: ROC = null (insufficient data)      │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">37</span><span class=\"c1\">//   └─────────────────────────────────────────────────────────────────┘</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">38</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">39</span><span class=\"c1\">// [Formula]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">40</span><span class=\"c1\">//   ROC = (Close - Close[N]) / Close[N] × 100</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">41</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">42</span><span class=\"c1\">// Where N = Period (lookback length)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">43</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">44</span><span class=\"c1\">// [Trading Signals]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">45</span><span class=\"c1\">//   ROC &gt; 0 and rising:    Strong uptrend (momentum accelerating)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">46</span><span class=\"c1\">//   ROC &gt; 0 and falling:   Uptrend weakening (momentum decelerating)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">47</span><span class=\"c1\">//   ROC crosses above 0:   Bullish signal</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">48</span><span class=\"c1\">//   ROC crosses below 0:   Bearish signal</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">49</span><span class=\"c1\">//   Extreme positive ROC:  Potentially overbought</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">50</span><span class=\"c1\">//   Extreme negative ROC:  Potentially oversold</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">51</span><span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">52</span><span class=\"c1\">// =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">53</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">54</span><span class=\"k\">using</span> System;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">55</span><span class=\"k\">using</span> System.Collections.Generic;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">56</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">57</span><span class=\"k\">namespace</span> TechnicalIndicators</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">58</span>{</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">59</span>    <span class=\"c1\">// =========================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">60</span>    <span class=\"c1\">// [What] CandleData: Immutable record for OHLCV price bar data</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">61</span>    <span class=\"c1\">// =========================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">62</span>    <span class=\"k\">public</span> <span class=\"k\">readonly</span> <span class=\"k\">record</span> <span class=\"k\">struct</span> CandleData(</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">63</span>        DateTime Timestamp,</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">64</span>        <span class=\"kt\">decimal</span> Open,</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">65</span>        <span class=\"kt\">decimal</span> High,</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">66</span>        <span class=\"kt\">decimal</span> Low,</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">67</span>        <span class=\"kt\">decimal</span> Close,</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">68</span>        <span class=\"kt\">long</span> Volume</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">69</span>    );</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">70</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">71</span>    <span class=\"c1\">// =========================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">72</span>    <span class=\"c1\">// [What] RateOfChange Class: Percentage-based momentum oscillator</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">73</span>    <span class=\"c1\">// =========================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">74</span>    <span class=\"k\">public</span> <span class=\"k\">class</span> <span class=\"nc\">RateOfChange</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">75</span>    {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">76</span>        <span class=\"c1\">// ---------------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">77</span>        <span class=\"c1\">// [What] Period: Number of bars to look back for comparison</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">78</span>        <span class=\"c1\">// [Why]  Default 10 is commonly used for short-term momentum</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">79</span>        <span class=\"c1\">// ---------------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">80</span>        <span class=\"k\">public</span> <span class=\"kt\">int</span> Period { <span class=\"k\">get</span>; }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">81</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">82</span>        <span class=\"c1\">// ---------------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">83</span>        <span class=\"c1\">// [What] Values: Stores the calculated ROC for each bar</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">84</span>        <span class=\"c1\">// [Why]  Values can be positive (upward momentum) or negative (downward)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">85</span>        <span class=\"c1\">// ---------------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">86</span>        <span class=\"k\">public</span> List&lt;<span class=\"kt\">decimal?</span>&gt; Values { <span class=\"k\">get</span>; } = <span class=\"k\">new</span>();</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">87</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">88</span>        <span class=\"c1\">// =====================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">89</span>        <span class=\"c1\">// [What] Constructor: Initialize with lookback period</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">90</span>        <span class=\"c1\">// =====================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">91</span>        <span class=\"k\">public</span> RateOfChange(<span class=\"kt\">int</span> period = 10)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">92</span>        {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">93</span>            <span class=\"k\">if</span> (period &lt;= 0)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">94</span>                <span class=\"k\">throw</span> <span class=\"k\">new</span> ArgumentOutOfRangeException(<span class=\"k\">nameof</span>(period), <span class=\"s\">&quot;Period must be greater than 0&quot;</span>);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">95</span>            Period = period;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">96</span>        }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">97</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">98</span>        <span class=\"c1\">// =====================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">99</span>        <span class=\"c1\">// [What] Calculate: Main computation method</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">100</span>        <span class=\"c1\">// =====================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">101</span>        <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">102</span>        <span class=\"c1\">// [IPO Block]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">103</span>        <span class=\"c1\">// ┌──────────────────────────────────────────────────────────────────┐</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">104</span>        <span class=\"c1\">// │ INPUT:  candles - Collection of OHLCV price bars                │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">105</span>        <span class=\"c1\">// │ PROCESS: Compare current close to N-periods-ago close (%)       │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">106</span>        <span class=\"c1\">// │ OUTPUT: Values list with ROC percentage for each bar            │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">107</span>        <span class=\"c1\">// └──────────────────────────────────────────────────────────────────┘</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">108</span>        <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">109</span>        <span class=\"k\">public</span> <span class=\"k\">void</span> Calculate(IEnumerable&lt;CandleData&gt; candles)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">110</span>        {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">111</span>            Values.Clear();</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">112</span>            <span class=\"kt\">var</span> candleList = <span class=\"k\">new</span> List&lt;CandleData&gt;(candles);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">113</span>            <span class=\"k\">if</span> (candleList.Count == 0) <span class=\"k\">return</span>;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">114</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">115</span>            <span class=\"c1\">// -----------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">116</span>            <span class=\"c1\">// [What] Process each bar to calculate ROC</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">117</span>            <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">118</span>            <span class=\"c1\">// [Visual] Loop Execution (Period = 3):</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">119</span>            <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">120</span>            <span class=\"c1\">//   Index:  0     1     2     3     4     5</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">121</span>            <span class=\"c1\">//   Close: 100   102   105   103   108   106</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">122</span>            <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">123</span>            <span class=\"c1\">//   i=0: null (no bar 3 periods ago)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">124</span>            <span class=\"c1\">//   i=1: null (no bar 3 periods ago)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">125</span>            <span class=\"c1\">//   i=2: null (no bar 3 periods ago)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">126</span>            <span class=\"c1\">//   i=3: ROC = (103-100)/100 × 100 = +3%</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">127</span>            <span class=\"c1\">//   i=4: ROC = (108-102)/102 × 100 = +5.88%</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">128</span>            <span class=\"c1\">//   i=5: ROC = (106-105)/105 × 100 = +0.95%</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">129</span>            <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">130</span>            <span class=\"c1\">// -----------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">131</span>            <span class=\"k\">for</span> (<span class=\"kt\">int</span> i = 0; i &lt; candleList.Count; i++)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">132</span>            {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">133</span>                <span class=\"c1\">// -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">134</span>                <span class=\"c1\">// [What] Warm-up period: output null</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">135</span>                <span class=\"c1\">// [Why]  Need at least &#x27;Period&#x27; bars before first calculation</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">136</span>                <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">137</span>                <span class=\"c1\">// [Note] We use i &lt; Period (not Period-1) because:</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">138</span>                <span class=\"c1\">//        - We compare current bar to period bars AGO</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">139</span>                <span class=\"c1\">//        - Bar 0 compares to bar -Period (doesn&#x27;t exist)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">140</span>                <span class=\"c1\">//        - First valid comparison is at bar index = Period</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">141</span>                <span class=\"c1\">// -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">142</span>                <span class=\"k\">if</span> (i &lt; Period)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">143</span>                {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">144</span>                    Values.Add(<span class=\"k\">null</span>);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">145</span>                }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">146</span>                <span class=\"k\">else</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">147</span>                {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">148</span>                    <span class=\"c1\">// ---------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">149</span>                    <span class=\"c1\">// [What] Get the closing price from Period bars ago</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">150</span>                    <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">151</span>                    <span class=\"c1\">// [Visual] Index Mapping:</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">152</span>                    <span class=\"c1\">//   Current index i = 10, Period = 5</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">153</span>                    <span class=\"c1\">//   Compare index = 10 - 5 = 5</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">154</span>                    <span class=\"c1\">//   Compare Close[10] to Close[5]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">155</span>                    <span class=\"c1\">// ---------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">156</span>                    <span class=\"kt\">decimal</span> prevClose = candleList[i - Period].Close;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">157</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">158</span>                    <span class=\"c1\">// ---------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">159</span>                    <span class=\"c1\">// [What] Guard against division by zero</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">160</span>                    <span class=\"c1\">// [Why]  If previous close is 0, percentage change is undefined</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">161</span>                    <span class=\"c1\">// ---------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">162</span>                    <span class=\"k\">if</span> (prevClose == 0)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">163</span>                    {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">164</span>                        Values.Add(<span class=\"k\">null</span>);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">165</span>                    }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">166</span>                    <span class=\"k\">else</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">167</span>                    {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">168</span>                        <span class=\"c1\">// -----------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">169</span>                        <span class=\"c1\">// [What] Calculate ROC as percentage</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">170</span>                        <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">171</span>                        <span class=\"c1\">// [Formula] ROC = ((Current - Previous) / Previous) × 100</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">172</span>                        <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">173</span>                        <span class=\"c1\">// [Example]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">174</span>                        <span class=\"c1\">//   Current Close = 110, Previous Close = 100</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">175</span>                        <span class=\"c1\">//   ROC = ((110 - 100) / 100) × 100</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">176</span>                        <span class=\"c1\">//       = (10 / 100) × 100</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">177</span>                        <span class=\"c1\">//       = 0.1 × 100</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">178</span>                        <span class=\"c1\">//       = 10%</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">179</span>                        <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">180</span>                        <span class=\"c1\">// [Visual] Interpretation:</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">181</span>                        <span class=\"c1\">//   +10% → Price rose 10% over Period bars</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">182</span>                        <span class=\"c1\">//   -5%  → Price fell 5% over Period bars</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">183</span>                        <span class=\"c1\">//   0%   → Price unchanged over Period bars</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">184</span>                        <span class=\"c1\">// -----------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">185</span>                        Values.Add(((candleList[i].Close - prevClose) / prevClose) * 100);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">186</span>                    }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">187</span>                }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">188</span>            }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">189</span>        }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">190</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">191</span>        <span class=\"c1\">// =====================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">192</span>        <span class=\"c1\">// [What] Calculate: Static convenience method</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">193</span>        <span class=\"c1\">// =====================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">194</span>        <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">195</span>        <span class=\"c1\">// [IPO Block]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">196</span>        <span class=\"c1\">// ┌──────────────────────────────────────────────────────────────────┐</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">197</span>        <span class=\"c1\">// │ INPUT:  candles - Price bars, period - Lookback length          │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">198</span>        <span class=\"c1\">// │ PROCESS: Create instance, calculate, return results             │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">199</span>        <span class=\"c1\">// │ OUTPUT: List of ROC percentages for each bar                    │</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">200</span>        <span class=\"c1\">// └──────────────────────────────────────────────────────────────────┘</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">201</span>        <span class=\"c1\">//</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">202</span>        <span class=\"k\">public</span> <span class=\"k\">static</span> List&lt;<span class=\"kt\">decimal?</span>&gt; Calculate(IEnumerable&lt;CandleData&gt; candles, <span class=\"kt\">int</span> period = 10)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">203</span>        {</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">204</span>            <span class=\"kt\">var</span> roc = <span class=\"k\">new</span> RateOfChange(period);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">205</span>            roc.Calculate(candles);</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">206</span>            <span class=\"k\">return</span> roc.Values;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">207</span>        }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">208</span>    }</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">209</span>}</div></div>","python_simple":"<div class=\"highlight\"><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">1</span><span class=\"k\">class</span> <span class=\"nc\">RateOfChange</span>:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">2</span>    <span class=\"sd\">&quot;&quot;&quot;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">3</span><span class=\"sd\">    Rate of Change (ROC)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">4</span><span class=\"sd\">    &quot;&quot;&quot;</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">5</span>    <span class=\"k\">def</span> __init__(self, period=10):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">6</span>        self.period = period</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">7</span>        self.values = []</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">8</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">9</span>    <span class=\"k\">def</span> calculate(self, candles):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">10</span>        self.values.clear()</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">11</span>        <span class=\"k\">if</span> len(candles) == 0: <span class=\"k\">return</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">12</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">13</span>        <span class=\"k\">for</span> i <span class=\"ow\">in</span> range(len(candles)):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">14</span>            <span class=\"k\">if</span> i &lt; self.period:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">15</span>                self.values.append(<span class=\"kc\">None</span>)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">16</span>            <span class=\"k\">else</span>:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">17</span>                prev_close = float(candles[i - self.period][<span class=\"s1\">&#x27;</span><span class=\"s1\">close</span><span class=\"s1\">&#x27;</span>])</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">18</span>                <span class=\"k\">if</span> prev_close == 0:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">19</span>                    self.values.append(<span class=\"kc\">None</span>)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">20</span>                <span class=\"k\">else</span>:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">21</span>                    curr_close = float(candles[i][<span class=\"s1\">&#x27;</span><span class=\"s1\">close</span><span class=\"s1\">&#x27;</span>])</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">22</span>                    roc = ((curr_close - prev_close) / prev_close) * 100.0</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">23</span>                    self.values.append(roc)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">24</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">25</span><span class=\"k\">def</span> calculate(candles, period=10):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">26</span>    roc = RateOfChange(period)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">27</span>    roc.calculate(candles)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">28</span>    <span class=\"k\">return</span> roc.values</div></div>","python_detailed":"<div class=\"highlight\"><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">1</span><span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">2</span><span class=\"c1\"># Logic Breakdown (Rate of Change)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">3</span><span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">4</span><span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">5</span><span class=\"c1\"># This document provides a &quot;Deep Dive&quot; into the internal logic of the</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">6</span><span class=\"c1\"># Rate of Change (ROC).</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">7</span><span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">8</span><span class=\"c1\"># [Core Concepts]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">9</span><span class=\"c1\"># 1. Momentum as Velocity</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">10</span><span class=\"c1\">#    - ROC measures the speed at which price is changing.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">11</span><span class=\"c1\">#    - It is a &quot;Pure Momentum&quot; oscillator.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">12</span><span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">13</span><span class=\"c1\"># 2. The Calculation</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">14</span><span class=\"c1\">#    - Compares current price to price N periods ago.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">15</span><span class=\"c1\">#    - Output is a percentage.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">16</span><span class=\"c1\">#    - ROC = ((Current - Prev) / Prev) * 100.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">17</span><span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">18</span><span class=\"c1\"># 3. Interpretation</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">19</span><span class=\"c1\">#    - Crossing Zero: Trend direction change.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">20</span><span class=\"c1\">#    - High Peaks: Overbought.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">21</span><span class=\"c1\">#    - Low Valleys: Oversold.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">22</span><span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">23</span><span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">24</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">25</span><span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">26</span><span class=\"c1\"># Type-Level Explanation: RateOfChange (class)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">27</span><span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">28</span><span class=\"c1\"># [Why]  Standard momentum tool.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">29</span><span class=\"c1\"># [What] Percentage velocity of price.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">30</span><span class=\"c1\"># [How]  Uses a sliding window to compare the current price with the price N periods ago, expressing the difference as a percentage.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">31</span><span class=\"c1\"># [Who]  Fred Schutzman (and many others).</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">32</span><span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">33</span><span class=\"k\">class</span> <span class=\"nc\">RateOfChange</span>:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">34</span>    </div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">35</span>    <span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">36</span>    <span class=\"c1\"># Constructor: __init__</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">37</span>    <span class=\"c1\"># [Why] Configure N (lookback).</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">38</span>    <span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">39</span>    <span class=\"k\">def</span> __init__(self, period=10):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">40</span>        <span class=\"k\">if</span> period &lt;= 0:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">41</span>            <span class=\"k\">raise</span> ValueError(<span class=\"s2\">&quot;</span><span class=\"s2\">period must be &gt; 0</span><span class=\"s2\">&quot;</span>)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">42</span>        self.period = period</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">43</span>        self.values = []</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">44</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">45</span>    <span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">46</span>    <span class=\"c1\"># IPO: calculate</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">47</span>    <span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">48</span>    <span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">49</span>    <span class=\"c1\"># [Input]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">50</span>    <span class=\"c1\"># - candles: List[dict]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">51</span>    <span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">52</span>    <span class=\"c1\"># [Process]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">53</span>    <span class=\"c1\"># 1. Slide window.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">54</span>    <span class=\"c1\"># 2. Identify &#x27;Current Close&#x27; and &#x27;Close N bars ago&#x27;.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">55</span>    <span class=\"c1\"># 3. Calculate % difference.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">56</span>    <span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">57</span>    <span class=\"c1\"># [Output]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">58</span>    <span class=\"c1\"># - None.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">59</span>    <span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">60</span>    <span class=\"k\">def</span> calculate(self, candles):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">61</span>        </div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">62</span>        <span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">63</span>        <span class=\"c1\"># Logic Step 1: Reset</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">64</span>        <span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">65</span>        self.values.clear()</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">66</span>        <span class=\"k\">if</span> len(candles) == 0:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">67</span>            <span class=\"k\">return</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">68</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">69</span>        <span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">70</span>        <span class=\"c1\"># Logic Step 2: Main Loop</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">71</span>        <span class=\"c1\"># -------------------------------------------------------------</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">72</span>        <span class=\"k\">for</span> i <span class=\"ow\">in</span> range(len(candles)):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">73</span>            </div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">74</span>            <span class=\"c1\"># Logic Step 2.1: Check Data Availability</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">75</span>            <span class=\"c1\"># We need a value &#x27;period&#x27; bars ago.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">76</span>            <span class=\"c1\"># So index &#x27;i&#x27; must be &gt;= &#x27;period&#x27;.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">77</span>            <span class=\"k\">if</span> i &lt; self.period:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">78</span>                self.values.append(<span class=\"kc\">None</span>)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">79</span>                <span class=\"k\">continue</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">80</span>                </div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">81</span>            <span class=\"c1\"># Logic Step 2.2: Retrieve Prices</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">82</span>            current_close = candles[i][<span class=\"s1\">&#x27;</span><span class=\"s1\">close</span><span class=\"s1\">&#x27;</span>]</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">83</span>            </div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">84</span>            <span class=\"c1\"># Index &#x27;i - period&#x27; gives us the price exactly N steps back.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">85</span>            <span class=\"c1\"># Example: i=10, Period=10. Index=0.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">86</span>            prev_close = candles[i - self.period][<span class=\"s1\">&#x27;</span><span class=\"s1\">close</span><span class=\"s1\">&#x27;</span>]</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">87</span>            </div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">88</span>            <span class=\"c1\"># Logic Step 2.3: Calculate ROC</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">89</span>            <span class=\"c1\"># [Fail Safe] Div by zero check</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">90</span>            <span class=\"k\">if</span> prev_close == 0:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">91</span>                self.values.append(<span class=\"kc\">None</span>)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">92</span>            <span class=\"k\">else</span>:</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">93</span>                <span class=\"c1\"># [Visual]</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">94</span>                <span class=\"c1\"># Curr=110, Prev=100. Diff=10. 10/100 = 0.10 -&gt; 10%.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">95</span>                roc = ((current_close - prev_close) / prev_close) * 100.0</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">96</span>                self.values.append(roc)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">97</span>&#8203;</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">98</span><span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">99</span><span class=\"c1\"># Static Wrapper Function</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">100</span><span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">101</span><span class=\"c1\">#</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">102</span><span class=\"c1\"># [Why] Functional API.</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">103</span><span class=\"c1\"># [Usage] roc_values = calculate(candles, period=10)</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">104</span><span class=\"c1\"># =============================================================================</span></div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">105</span><span class=\"k\">def</span> calculate(candles, period=10):</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">106</span>    instance = RateOfChange(period)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">107</span>    instance.calculate(candles)</div><div class=\"code-line\" style=\"white-space: pre;\"><span style=\"display:inline-block; width:2em; text-align:right; margin-right:1em; color:#9ca3af; user-select:none;\">108</span>    <span class=\"k\">return</span> instance.values</div></div>"});