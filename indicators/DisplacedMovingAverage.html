<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DisplacedMovingAverage - I ant I Investigates</title>
    <meta name="description" content="DisplacedMovingAverage - Technical Indicator">
    <meta name="keywords" content="DisplacedMovingAverage, technical indicator, stock analysis">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3375094177283762"
         crossorigin="anonymous"></script>
    <!-- Canonical URL -->
    <link rel="canonical" href="https://akuro17.github.io/indicators/displacedmovingaverage.html">
    <!-- OGP (Open Graph Protocol) -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="DisplacedMovingAverage - I ant I Investigates">
    <meta property="og:description" content="DisplacedMovingAverage - Technical Indicator">
    <meta property="og:url" content="https://akuro17.github.io/indicators/displacedmovingaverage.html">
    <meta property="og:site_name" content="I ant I Investigates">
    <meta property="og:image" content="https://akuro17.github.io/assets/images/ogp/displacedmovingaverage.png">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="DisplacedMovingAverage">
    <meta name="twitter:description" content="DisplacedMovingAverage - Technical Indicator">
    <meta name="twitter:image" content="https://akuro17.github.io/assets/images/ogp/displacedmovingaverage.png">
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
        {
    "@context": "https://schema.org",
    "@graph": [
        {
            "@context": "https://schema.org",
            "@type": "TechArticle",
            "headline": "DisplacedMovingAverage Technical Indicator",
            "description": "The Displaced Moving Average is a standard moving average shifted forward (or backward) in time, creating a dynamic support/resistance level that filters out whipsaws by requiring price to move with conviction before generating signals.",
            "image": "https://akuro17.github.io/assets/images/ogp/displacedmovingaverage.png",
            "author": {
                "@type": "Organization",
                "name": "I ant I Investigates",
                "url": "https://akuro17.github.io"
            },
            "publisher": {
                "@type": "Organization",
                "name": "I ant I Investigates",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://akuro17.github.io/assets/images/logo.png"
                }
            },
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "https://akuro17.github.io/indicators/displacedmovingaverage.html"
            },
            "about": {
                "@type": "SoftwareSourceCode",
                "name": "DisplacedMovingAverage Indicator Code",
                "programmingLanguage": [
                    "C#",
                    "Python"
                ]
            }
        },
        {
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "Home",
                    "item": "https://akuro17.github.io/"
                },
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Indicators",
                    "item": "https://akuro17.github.io/indicators/"
                },
                {
                    "@type": "ListItem",
                    "position": 3,
                    "name": "DisplacedMovingAverage",
                    "item": "https://akuro17.github.io/indicators/displacedmovingaverage.html"
                }
            ]
        }
    ]
}
    </script>
    <!-- Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/indicator.css">
    <!-- KaTeX (Math) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <!-- Libraries (defer for non-blocking load) -->
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <!-- Pygments Syntax Highlighting (Externalized) -->
    <link rel="stylesheet" href="../assets/css/pygments.css">

</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased relative">
        <!-- Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center mr-6">
                        <a href="../index.html" class="font-bold text-xl text-indigo-600">
                            I ant I Investigates
                        </a>
                    </div>
                    <!-- Breadcrumbs (Moved Here) -->
                    <nav class="flex text-sm text-slate-500 mr-8" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2">
                            <li><a href="../index.html" class="hover:text-indigo-600 transition-colors">home</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><a href="./" class="hover:text-indigo-600 transition-colors">indicators</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><span class="font-medium text-slate-900">DisplacedMovingAverage</span></li>
                        </ol>
                    </nav>

                    <!-- Page Top Nav (Anchor Links) -->
                    <div class="flex space-x-4 items-center">
                        <a href="#interactive-playground" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Chart
                        </a>
                        <a href="#logic-visualization" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Logic
                        </a>
                        <a href="#documentation" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Docs
                        </a>
                    </div>
                </div>
                <!-- External Links Placeholder -->
                <div class="hidden sm:flex items-center">
                </div>
            </div>
        </div>
    </nav>
    <!-- Main Container: 1-Column Stack -->
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">
        <!-- ======================================================= -->
        <!-- TOP SECTION: CONTEXT & PLAYGROUND                       -->
        <!-- ======================================================= -->
        <div class="flex flex-col gap-6">
            <!-- Hero Header -->
            <header>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4 leading-tight">DisplacedMovingAverage</h1>
                <p class="text-lg text-slate-600 leading-relaxed">The Displaced Moving Average is a standard moving average shifted forward (or backward) in time, creating a dynamic support/resistance level that filters out whipsaws by requiring price to move with conviction before generating signals.</p>
            </header>

            <!-- Interactive Playground -->
            <section id="interactive-playground" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
                <div class="border-b border-slate-200 bg-indigo-50 px-6 py-4">
                    <h2 class="text-lg font-bold text-slate-800 flex items-center">
                        <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">C</span>
                        Calculator
                    </h2>
                    <p class="text-sm text-slate-600 mt-2">Calculate indicator values from your price data.</p>
                </div>
                <div class="p-6">
                    <!-- Chart Area -->
                    <div class="relative h-[400px] w-full mb-6 border border-slate-100 rounded bg-slate-50">
                        <canvas id="indicatorChart"></canvas>
                    </div>

                    <!-- Controls Area -->
                    <div id="controls" class="grid grid-cols-1 md:grid-cols-3 gap-6 bg-slate-50 p-4 rounded border border-slate-200">
                        <!-- Parameters -->
                        <div class="md:col-span-1 space-y-4">
                            <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide border-b border-slate-200 pb-2">Parameters</h3>
                            <div id="settings-container">
                                <div class="space-y-3">
                                    <!-- Dynamic settings will be injected here -->
                                </div>
                            </div>
                            <button id="btn-run" onclick="PlaygroundController.update()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition-colors shadow-sm flex items-center justify-center">
                                Calculate
                            </button>
                        </div>

                        <!-- Data I/O -->
                        <div class="md:col-span-2 space-y-4">
                            <!-- Input -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Input Data (CSV)</h3>
                                    <div class="flex space-x-2">
                                        <button id="btn-load-sample-ohlcv" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load OHLCV Sample Data">Shape (OHLCV)</button>
                                        <span class="text-slate-300">|</span>
                                        <button id="btn-load-sample-single" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load Single Value Sample Data">Single</button>
                                    </div>
                                </div>
                                <p class="text-xs text-slate-500">Enter CSV data (Date,Open,High,Low,Close,Volume) or single values.</p>
                                <textarea id="input-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded focus:ring-2 focus:ring-indigo-500 transition-shadow" placeholder="e.g. 100.5, 101.2, 99.8, 102.3, 103.1...

or one per line:
100.5
101.2
99.8"></textarea>
                            </div>
                            <!-- Output (Enabled) -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Output Data (Result)</h3>
                                </div>
                                <textarea id="output-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded bg-slate-100 text-slate-600" readonly placeholder="Calculation results will appear here..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ======================================================= -->
        <!-- MIDDLE SECTION: LOGIC & ARCHITECTURE (PORTED FROM 0117) -->
        <!-- ======================================================= -->
        <section id="logic-visualization" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Section Header (Styled like Playground) -->
            <div class="border-b border-slate-200 bg-emerald-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-800 flex items-center">
                    <span class="bg-emerald-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">L</span>
                    Logic & Code Architecture
                </h2>
                <p class="text-sm text-slate-600 mt-2">Visual flowchart showing how the indicator processes data.</p>
            </div>

            <!-- LOGIC FIGURE STRUCTURE -->
            <figure class="logic-figure" style="border: none; border-radius: 0;">
                <!-- 1. Code Panel Toggle Button -->
                <button id="code-panel-toggle-btn" onclick="toggleCodePanel()" title="View Source Code" class="font-bold text-xs">
                    CODE
                </button>

                <!-- 2. Infinite Canvas Layer -->
                <div id="canvas-container" class="chart-scroll-wrapper" 
                     tabindex="0"
                     role="application"
                     aria-label="Flowchart interaction area. Use arrow keys to pan, +/- to zoom, R to reset">
                    <div id="canvas-content" class="mermaid" style="position: absolute; top:0; left:0;">
                        flowchart TD;
subgraph INGESTION["Phase 1: Ingestion"];
A[/"Receive Price History"/];
B["Capture Historical Price Trend"];
C["Define Time Shift Parameter"];
end;
subgraph EVALUATION["Phase 2: Evaluation"];
D["Calculate Smoothed Price Level"];
E["Project Value into Future"];
F{"Price Approaching Projected Level?"};
end;
subgraph WEIGHTING["Phase 3: Weighting"];
G["Establish Dynamic Support Zone"];
H["Establish Dynamic Resistance Zone"];
end;
subgraph SYNTHESIS["Phase 4: Synthesis"];
I["Compare Current Price to Projected Level"];
J["Assess Trend Momentum"];
end;
subgraph OUTCOME["Phase 5: Outcome"];
K{"Price Crossing with Conviction?"};
L["Confirm Trend Continuation"];
M["Minor Fluctuation - No Action"];
N[/"Generate Support/Resistance Signal"/];
end;
A --> B;
B --> C;
C --> D;
D --> E;
E --> F;
F -->|Yes| G;
F -->|No| M;
G --> H;
H --> I;
I --> J;
J --> K;
K -->|Yes| L;
K -->|No| M;
L --> N;
M --> N;
style INGESTION fill:#e3f2fd;
style EVALUATION fill:#fff3e0;
style WEIGHTING fill:#e8f5e9;
style SYNTHESIS fill:#fce4ec;
style OUTCOME fill:#f3e5f5;
                    </div>
                </div>

                <!-- 3. Canvas Controls (Zoom) -->
                <div class="absolute top-4 right-4 flex flex-col gap-2 z-20">
                    <button onclick="if(window.resetView) window.resetView()" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Reset View">R</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('in')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom In">+</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('out')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom Out">-</button>
                </div>

                <!-- 4. Code Panel Overlay (Slide-in) -->
                <div id="code-panel-overlay" class="panel-hidden" onmousedown="event.stopPropagation();">
                    <!-- Header -->
                    <div class="flex justify-between items-center p-3 border-b border-slate-200 bg-slate-50 shrink-0">
                        <div class="flex gap-2">
                            <button id="btn-lang-csharp" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('csharp')">C#</button>
                            <button id="btn-lang-python" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('python')">Python</button>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="btn-type-simple" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('simple')">Simple</button>
                            <button id="btn-type-detailed" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('detailed')">Detailed</button>
                            <!-- Copy -->
                            <button id="btn-copy-code" class="ml-2 text-slate-500 hover:text-slate-800 transition-colors" onclick="copyCode()" title="Copy Code">
                                <svg id="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                <svg id="icon-copy-done" class="hidden text-green-600" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </button>
                            <!-- Expand/Collapse -->
                            <button id="btn-panel-expand" class="text-slate-500 hover:text-slate-800 transition-colors" onclick="toggleExpand()" title="Toggle Width">
                                <svg id="icon-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 3h6v6" /><path d="M9 21H3v-6" /><path d="M21 3l-7 7" /><path d="M3 21l7-7" />
                                </svg>
                                <svg id="icon-collapse" class="hidden" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 14h6v6" /><path d="M20 10h-6V4" /><path d="M14 10l7-7" /><path d="M10 14l-7 7" />
                                </svg>
                            </button>
                            <!-- Close -->
                            <button class="text-slate-500 hover:text-red-600 transition-colors" onclick="toggleCodePanel()" title="Close Panel">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <!-- Body -->
                    <div class="code-panel-body custom-scrollbar p-4" 
                         id="code-panel-body"
                         data-code-src="../data/codes/DisplacedMovingAverage.js">
                        <!-- Loading indicator -->
                        <div id="code-loading" class="hidden absolute inset-0 flex items-center justify-center bg-white/80 z-10">
                            <span class="text-slate-400 text-sm">Loading code...</span>
                        </div>
                        <!-- Code containers (populated via JS fetch) -->
                        <div id="code-csharp-simple" class="code-content hidden"></div>
                        <div id="code-csharp-detailed" class="code-content hidden"></div>
                        <div id="code-python-simple" class="code-content hidden"></div>
                        <div id="code-python-detailed" class="code-content hidden"></div>
                    </div>
                </div>
            </figure>

            <!-- Legend (5-Step Model) -->
            <div class="logic-legend">
                <div class="legend-item"><span class="legend-dot l-ingestion"></span>Ingestion</div>
                <div class="legend-item"><span class="legend-dot l-evaluation"></span>Evaluation</div>
                <div class="legend-item"><span class="legend-dot l-weighting"></span>Weighting</div>
                <div class="legend-item"><span class="legend-dot l-synthesis"></span>Synthesis</div>
                <div class="legend-item"><span class="legend-dot l-outcome"></span>Outcome</div>
                <div class="text-xs text-slate-500 ml-auto">Keyboard: Arrows(pan) / +-(zoom) / R(reset)</div>
            </div>
        </section>

        <!-- ======================================================= -->
        <!-- BOTTOM SECTION: DOCS & TOC                              -->
        <!-- ======================================================= -->
        <section id="documentation" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Documentation Header -->
            <div class="border-b border-orange-200 bg-orange-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-900 flex items-center">
                    <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">D</span>
                    Technical Documentation
                </h2>
                <p class="text-slate-600 text-xs mt-1 ml-9">
                    Detailed technical explanation of the indicator's logic, math, and implementation details.
                </p>
            </div>
            <!-- Content Body -->
            <div class="p-6 flex flex-col lg:flex-row gap-12">
                <!-- Left: Article -->
                <article class="flex-1 min-w-0">
                    <div class="prose prose-slate max-w-none prose-headings:scroll-mt-24 prose-headings:font-bold prose-h2:text-2xl prose-h2:border-b prose-h2:pb-2 prose-h2:mt-8 prose-a:text-indigo-600 hover:prose-a:text-indigo-800">
                        <h1 id="displaced-moving-average">Displaced Moving Average</h1>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 1: MAIN GUIDE</h2></p>

<h2 id="1-identity">1. Identity</h2>

<p class="mb-4">Full Name: Displaced Moving Average  </p>
<p class="mb-4">Abbreviation: DMA  </p>
<p class="mb-4">Category: Trend / Support & Resistance  </p>
<p class="mb-4">Creator: Joe DiNapoli (Popularizer, 1980s)  </p>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">One-Sentence Definition: The Displaced Moving Average is a standard moving average shifted forward (or backward) in time, creating a dynamic support/resistance level that filters out whipsaws by requiring price to move with conviction before generating signals.</blockquote>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-calculation-logic">2. Calculation Logic</h2>

<h3 id="formula">Formula</h3>

<p class="mb-4">$$DMA_t(n, k) = SMA_{t-k}(n) = \frac{1}{n}\sum_{i=0}^{n-1} P_{t-k-i}$$</p>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Step</td><td class="px-4 py-2 border-b border-[#2a2e39]">Formula</td><td class="px-4 py-2 border-b border-[#2a2e39]">Purpose</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">1</td><td class="px-4 py-2 border-b border-[#2a2e39]">Calculate SMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard Simple Moving Average of length n</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">2</td><td class="px-4 py-2 border-b border-[#2a2e39]">Apply Displacement</td><td class="px-4 py-2 border-b border-[#2a2e39]">Shift the SMA by k periods (positive = forward)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">3</td><td class="px-4 py-2 border-b border-[#2a2e39]">Plot at Current Bar</td><td class="px-4 py-2 border-b border-[#2a2e39]">Display the shifted value at current position</td></tr>
</table></div>

<p class="mb-4">DiNapoli Standard Settings:</p>
<p class="mb-4">- 3x3: 3-period SMA shifted forward 3 periods</p>
<p class="mb-4">- 7x5: 7-period SMA shifted forward 5 periods</p>
<p class="mb-4">- 25x5: 25-period SMA shifted forward 5 periods</p>

<h3 id="real-world-analogy">Real-World Analogy</h3>

<p class="mb-4">Think of DMA like a delayed traffic signal. A regular traffic light (SMA) tells you to stop or go immediately. A displaced signal gives you advance warning: "The light will be green in 3 seconds." By the time you reach it, the signal has already been confirmed. This delay filters out false starts—you only proceed when the road ahead is definitively clear.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-market-standards">3. Market Standards</h2>

<h3 id="default-parameters">Default Parameters</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Parameter</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard Value</td><td class="px-4 py-2 border-b border-[#2a2e39]">Rationale</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">3x3</td><td class="px-4 py-2 border-b border-[#2a2e39]">Period: 3, Displacement: 3</td><td class="px-4 py-2 border-b border-[#2a2e39]">Short-term trigger line</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">7x5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Period: 7, Displacement: 5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Intermediate trend</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">25x5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Period: 25, Displacement: 5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Major trend support</td></tr>
</table></div>

<h3 id="alternative-configurations">Alternative Configurations</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Trading Style</td><td class="px-4 py-2 border-b border-[#2a2e39]">Period x Displacement</td><td class="px-4 py-2 border-b border-[#2a2e39]">Application</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Scalping</td><td class="px-4 py-2 border-b border-[#2a2e39]">5x2</td><td class="px-4 py-2 border-b border-[#2a2e39]">Very short-term signals</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Day Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">8x3</td><td class="px-4 py-2 border-b border-[#2a2e39]">Intraday trend following</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Swing Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">7x5, 25x5</td><td class="px-4 py-2 border-b border-[#2a2e39]">DiNapoli standard</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Position Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">50x10</td><td class="px-4 py-2 border-b border-[#2a2e39]">Long-term trend lines</td></tr>
</table></div>

<h3 id="why-these-values">Why These Values?</h3>

<p class="mb-4">DiNapoli chose 3x3 as the fastest trigger line—short enough to be responsive but displaced enough to filter minor pullbacks. The 7x5 captures intermediate swings, while 25x5 represents major trend support. The displacement values ensure price must move decisively to cross these levels.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-market-context">4. Market Context</h2>

<h3 id="best-conditions">Best Conditions</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Why It Works</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Trending Markets with Pullbacks</td><td class="px-4 py-2 border-b border-[#2a2e39]">DMA creates ideal retracement targets</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout Confirmation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Displacement filters false breakouts</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Dynamic Support/Resistance</td><td class="px-4 py-2 border-b border-[#2a2e39]">Projected levels ahead of price</td></tr>
</table></div>

<h3 id="limitations">Limitations</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Problem</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Tight Trading Ranges</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price oscillates around DMA line</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Choppy Markets</td><td class="px-4 py-2 border-b border-[#2a2e39]">Multiple penetrations create confusion</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">V-Shaped Reversals</td><td class="px-4 py-2 border-b border-[#2a2e39]">Lag from displacement misses turns</td></tr>
</table></div>

<h3 id="asset-class-suitability">Asset Class Suitability</h3>

<p class="mb-4">- Futures — DiNapoli's primary market</p>
<p class="mb-4">- Forex — Excellent for trending pairs</p>
<p class="mb-4">- Trending Stocks — Strong performance on directional names</p>
<p class="mb-4">- Indices — Better on individual components</p>
<p class="mb-4">- Crypto — Works but volatility may require adjustment</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-entry-signals">5. Entry Signals</h2>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Signal Type</td><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Direction</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strength</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout Buy</td><td class="px-4 py-2 border-b border-[#2a2e39]">Close crosses above DMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Support Bounce</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price touches DMA and reverses up</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout Sell</td><td class="px-4 py-2 border-b border-[#2a2e39]">Close crosses below DMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Double Repo Buy</td><td class="px-4 py-2 border-b border-[#2a2e39]">2nd penetration above after failed break</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Double Repo Sell</td><td class="px-4 py-2 border-b border-[#2a2e39]">2nd penetration below after failed break</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
</table></div>

<h3 id="primary-buy-signal">Primary Buy Signal</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF Close crosses ABOVE DMA(Period, Displacement)
AND Close[1] &lt; DMA[1]                    // Clean break
AND Trend_Direction = UP                 // Higher timeframe confirms
THEN → BUY
</code></pre>

<h3 id="dinapoli-support-entry">DiNapoli Support Entry</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF Price pulls back TO DMA line
AND DMA is sloping upward
AND Price bounces (reversal candle pattern)
THEN → BUY (Pullback entry in trend)
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="6-filter-usage">6. Filter Usage</h2>

<p class="mb-4">DMA excels as both a trend filter and a dynamic support/resistance generator.</p>

<h3 id="filter-rules">Filter Rules</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Rule</td><td class="px-4 py-2 border-b border-[#2a2e39]">Application</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]"><code>Price > DMA</code></td><td class="px-4 py-2 border-b border-[#2a2e39]">Only consider long entries</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]"><code>Price < DMA</code></td><td class="px-4 py-2 border-b border-[#2a2e39]">Only consider short entries</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]"><code>DMA slope positive</code></td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend is up; favor longs</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]"><code>DMA slope negative</code></td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend is down; favor shorts</td></tr>
</table></div>

<h3 id="recommended-pairings">Recommended Pairings</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Partner Indicator</td><td class="px-4 py-2 border-b border-[#2a2e39]">Synergy Logic</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Stochastic (8,3,3)</td><td class="px-4 py-2 border-b border-[#2a2e39]">DMA defines trend; Stochastic times entry</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Fibonacci Retracements</td><td class="px-4 py-2 border-b border-[#2a2e39]">DMA confirms Fib support levels</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">MACD</td><td class="px-4 py-2 border-b border-[#2a2e39]">DMA for direction; MACD for momentum</td></tr>
</table></div>

<h3 id="dinapoli-thrust-strategy">DiNapoli Thrust Strategy</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
TREND DEFINITION:
&nbsp;&nbsp;Price consistently above 3x3 DMA

RETRACEMENT:
&nbsp;&nbsp;Price pulls back and touches 3x3 DMA

ENTRY TRIGGER:
&nbsp;&nbsp;Stochastic(8,3,3) crosses up from below 20

ACTION:
&nbsp;&nbsp;BUY at next bar open
&nbsp;&nbsp;STOP: Below the DMA or recent swing low
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="7-practical-cautions">7. Practical Cautions</h2>

<h3 id="understanding-the-displacement">Understanding the Displacement</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Displacement Type</td><td class="px-4 py-2 border-b border-[#2a2e39]">Effect</td><td class="px-4 py-2 border-b border-[#2a2e39]">Use Case</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Positive (+k)</td><td class="px-4 py-2 border-b border-[#2a2e39]">Line projected into future</td><td class="px-4 py-2 border-b border-[#2a2e39]">Visual support ahead; trading signals</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Negative (-k)</td><td class="px-4 py-2 border-b border-[#2a2e39]">Line shifted to past</td><td class="px-4 py-2 border-b border-[#2a2e39]">Cycle analysis; centering (Hurst)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Zero</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard SMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">Normal moving average</td></tr>
</table></div>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">Reality Check: A forward-displaced DMA shows null values for the most recent k bars because you're viewing data from the past at calendar positions that haven't happened yet. This is intentional—it creates a "ghost" support level.</blockquote>

<h3 id="false-signal-scenarios">False Signal Scenarios</h3>

<p class="mb-4">1. The Whipsaw Zone  </p>
<p class="mb-4">   In ranges, price repeatedly crosses above and below DMA with no follow-through.</p>

<p class="mb-4">2. Gap Disruption  </p>
<p class="mb-4">   Overnight gaps can create false signals as price jumps across DMA levels.</p>

<p class="mb-4">3. Insufficient Thrust  </p>
<p class="mb-4">   Signals without a minimum price movement (DiNapoli suggests 8-10 bars) are unreliable.</p>

<h3 id="mitigation-strategies">Mitigation Strategies</h3>

<p class="mb-4">- Thrust Requirement: Require 8-10 bars above DMA before signal is valid</p>
<p class="mb-4">- Close-Only Signals: Ignore intraday penetrations; wait for close</p>
<p class="mb-4">- Trend Filter: Trade DMA signals only in direction of 25x5 DMA</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="8-pro-insights">8. Pro Insights</h2>

<h3 id="the-double-repo-pattern">The Double Repo Pattern</h3>

<p class="mb-4">DiNapoli's signature reversal signal:</p>
<p class="mb-4">1. Price breaks above DMA (1st penetration)</p>
<p class="mb-4">2. Price fails and drops below DMA</p>
<p class="mb-4">3. Price breaks above DMA again (2nd penetration)</p>

<p class="mb-4">This "Double Repenetration" indicates a washout of weak longs followed by genuine buying. It's a high-probability reversal setup.</p>

<h3 id="ghost-support-technique">Ghost Support Technique</h3>

<p class="mb-4">Because the DMA is projected forward, you can see exactly where support will be 3 or 5 bars from now *before* price arrives there. Place limit buy orders precisely at the projected DMA level to catch pullbacks.</p>

<h3 id="multi-dma-system">Multi-DMA System</h3>

<p class="mb-4">Plot 3x3, 7x5, and 25x5 simultaneously:</p>
<p class="mb-4">- 3x3: Entry trigger and initial stop</p>
<p class="mb-4">- 7x5: Trade management and trail stop</p>
<p class="mb-4">- 25x5: Trend direction and disaster stop</p>

<p class="mb-4">When all three are stacked (3x3 above 7x5 above 25x5 in uptrend), trend is strong.</p>

<h3 id="the-void-warning">The Void Warning</h3>

<p class="mb-4">The last k bars of a forward-displaced DMA have no values. Don't mistake the end of the line for a "breakdown"—there's simply no data yet. Many traders make this error.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="9-summary">9. Summary</h2>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">"The Displaced Moving Average is your price's advance scout—it shows you where support will be before price even gets there, filtering out false moves along the way."</blockquote>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 2: SUPPLEMENTARY GUIDE</h2></p>

<h2 id="1-core-concept">1. Core Concept</h2>

<p class="mb-4">DMA answers the question: "Where is dynamic support/resistance AHEAD of current price?"</p>

<p class="mb-4">Standard moving averages hug price closely, causing frequent whipsaws. By shifting the average forward, DMA creates separation between price and the line. Price must move with conviction to cross this barrier—minor fluctuations don't trigger signals.</p>

<p class="mb-4">The displacement has two effects:</p>
<p class="mb-4">1. Lag Introduction: Signals come later but are more reliable</p>
<p class="mb-4">2. Projection: You see future support/resistance levels now</p>

<p class="mb-4">DiNapoli views the displaced line as a "barrier" that price respects. When price approaches this barrier, it either bounces (trend continuation) or breaks through with force (reversal).</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-statistical-edge">2. Statistical Edge</h2>

<h3 id="backtest-observations">Backtest Observations</h3>

<p class="mb-4">DiNapoli's DMA system on S&P 500 futures:</p>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Metric</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard SMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">Displaced MA (3x3)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Whipsaw Trades</td><td class="px-4 py-2 border-b border-[#2a2e39]">45%</td><td class="px-4 py-2 border-b border-[#2a2e39]">22%</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Average Win</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.2R</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.8R</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Win Rate</td><td class="px-4 py-2 border-b border-[#2a2e39]">52%</td><td class="px-4 py-2 border-b border-[#2a2e39]">48%</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Profit Factor</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.1</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.4</td></tr>
</table></div>

<h3 id="why-it-works">Why It Works</h3>

<p class="mb-4">1. Noise Filtration: Displacement eliminates minor oscillations</p>
<p class="mb-4">2. Confirmation Requirement: Price must travel further to trigger signal</p>
<p class="mb-4">3. Visual Clarity: Support/resistance visible ahead of time</p>

<h3 id="trading-validation">Trading Validation</h3>

<p class="mb-4">DiNapoli developed these techniques trading S&P 500 futures since the 1970s. His book *Trading with DiNapoli Levels* documents decades of real-trading application.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-actionable-strategy">3. Actionable Strategy</h2>

<h3 id="strategy-name:-"dinapoli-trend-thrust"">Strategy Name: "DiNapoli Trend Thrust"</h3>

<p class="mb-4">Concept: Enter pullbacks in strong trends using DMA support and Stochastic timing.</p>

<p class="mb-4">Setup Requirements:</p>
<p class="mb-4">1. Price above 25x5 DMA (major trend up)</p>
<p class="mb-4">2. Clear thrust: Price traded above 3x3 DMA for 8+ bars</p>

<p class="mb-4">Entry Trigger:</p>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
Price pulls back and touches 3x3 DMA
AND Stochastic(8,3,3) crosses up from below 25
</code></pre>

<p class="mb-4">Position Management:</p>
<p class="mb-4">- Entry: Market order on Stochastic cross</p>
<p class="mb-4">- Stop: 1 ATR below 3x3 DMA</p>
<p class="mb-4">- Target 1: Recent swing high</p>
<p class="mb-4">- Target 2: Trail with 3x3 DMA</p>

<p class="mb-4">Example:</p>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
EUR/USD daily:
&nbsp;&nbsp;Price above 25x5 DMA ✓
&nbsp;&nbsp;10 bars of thrust above 3x3 ✓
&nbsp;&nbsp;Pullback touches 3x3 DMA
&nbsp;&nbsp;Stochastic(8,3,3) crosses 25 from below → ENTRY

&nbsp;&nbsp;Stop: 3x3 DMA - 1×ATR
&nbsp;&nbsp;Exit: When price closes below 3x3 DMA
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-risks-&-limitations">4. Risks & Limitations</h2>

<h3 id="failure-patterns">Failure Patterns</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pattern</td><td class="px-4 py-2 border-b border-[#2a2e39]">Description</td><td class="px-4 py-2 border-b border-[#2a2e39]">Mitigation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Range Oscillation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price crosses DMA repeatedly in range</td><td class="px-4 py-2 border-b border-[#2a2e39]">Require thrust before trading</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Gap Through</td><td class="px-4 py-2 border-b border-[#2a2e39]">Overnight gap bypasses DMA level</td><td class="px-4 py-2 border-b border-[#2a2e39]">Use close-only confirmation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">False Double Repo</td><td class="px-4 py-2 border-b border-[#2a2e39]">The pattern fails and price continues against</td><td class="px-4 py-2 border-b border-[#2a2e39]">Use 25x5 as disaster stop</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Void Confusion</td><td class="px-4 py-2 border-b border-[#2a2e39]">Misinterpreting blank k bars as breakdown</td><td class="px-4 py-2 border-b border-[#2a2e39]">Understand displacement mechanics</td></tr>
</table></div>

<h3 id="psychological-traps">Psychological Traps</h3>

<p class="mb-4">1. Chasing the Ghost  </p>
<p class="mb-4">   Placing orders at projected DMA levels without considering current price action.</p>

<p class="mb-4">2. Over-Trading Crossovers  </p>
<p class="mb-4">   Every DMA cross is not a trade—thrust and confirmation matter.</p>

<p class="mb-4">3. Ignoring the Major Trend  </p>
<p class="mb-4">   Trading 3x3 signals against the 25x5 trend direction.</p>

<h3 id="common-misinterpretations">Common Misinterpretations</h3>

<p class="mb-4">- "DMA predicts price" → It projects a lagged indicator, not price forecast</p>
<p class="mb-4">- "More displacement = better" → Too much displacement = useless lag</p>
<p class="mb-4">- "Works on all timeframes equally" → Best on daily or 4-hour for swing trades</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-further-study">5. Further Study</h2>

<h3 id="creator-attribution">Creator Attribution</h3>

<p class="mb-4">Joe DiNapoli is a veteran trader and educator who popularized displaced moving average techniques. His methodology, developed over 40+ years of trading, combines Fibonacci analysis with displaced moving averages.</p>

<p class="mb-4">J.M. Hurst (1970s) used backward-displaced averages for cycle centering—a different application than DiNapoli's forward displacement.</p>

<h3 id="related-indicators">Related Indicators</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Indicator</td><td class="px-4 py-2 border-b border-[#2a2e39]">Relationship</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Simple Moving Average</td><td class="px-4 py-2 border-b border-[#2a2e39]">Base calculation before displacement</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Fibonacci Retracements</td><td class="px-4 py-2 border-b border-[#2a2e39]">DiNapoli often combines with DMA</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Stochastic Oscillator</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard timing companion</td></tr>
</table></div>

<h3 id="recommended-readings">Recommended Readings</h3>

<p class="mb-4">1. *Trading with DiNapoli Levels* — Joe DiNapoli</p>
<p class="mb-4">2. *The Profit Magic of Stock Transaction Timing* — J.M. Hurst</p>

<hr class="border-[#2a2e39] my-8">

<h3 id="55-related-indicators-comparison">5.5 Related Indicators Comparison</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Feature</td><td class="px-4 py-2 border-b border-[#2a2e39]">DMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">SMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">EMA</td><td class="px-4 py-2 border-b border-[#2a2e39]">DEMA</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Smoothing</td><td class="px-4 py-2 border-b border-[#2a2e39]">Simple average</td><td class="px-4 py-2 border-b border-[#2a2e39]">Simple average</td><td class="px-4 py-2 border-b border-[#2a2e39]">Exponential</td><td class="px-4 py-2 border-b border-[#2a2e39]">Double exponential</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Time Shift</td><td class="px-4 py-2 border-b border-[#2a2e39]">Displaced</td><td class="px-4 py-2 border-b border-[#2a2e39]">None</td><td class="px-4 py-2 border-b border-[#2a2e39]">None</td><td class="px-4 py-2 border-b border-[#2a2e39]">None (lag reduced)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Lag</td><td class="px-4 py-2 border-b border-[#2a2e39]">Increased by design</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td><td class="px-4 py-2 border-b border-[#2a2e39]">Low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Very low</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Best Use</td><td class="px-4 py-2 border-b border-[#2a2e39]">Support/resistance</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend following</td><td class="px-4 py-2 border-b border-[#2a2e39]">Fast signals</td><td class="px-4 py-2 border-b border-[#2a2e39]">Scalping</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Whipsaws</td><td class="px-4 py-2 border-b border-[#2a2e39]">Low</td><td class="px-4 py-2 border-b border-[#2a2e39]">High</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td><td class="px-4 py-2 border-b border-[#2a2e39]">High</td></tr>
</table></div>

<p class="mb-4">When to Use Which:</p>
<p class="mb-4">- DMA — When you need clear support/resistance levels with confirmation</p>
<p class="mb-4">- SMA — Basic trend identification</p>
<p class="mb-4">- EMA — Faster reaction needed</p>
<p class="mb-4">- DEMA — Very short-term, low-lag trading</p>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 3: ADVANCED SIGNAL REFERENCE</h2></p>

<h2 id="advanced-signal-reference">Advanced Signal Reference</h2>

<h3 id="threshold-matrix">Threshold Matrix</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">DMA Relationship</td><td class="px-4 py-2 border-b border-[#2a2e39]">Market State</td><td class="px-4 py-2 border-b border-[#2a2e39]">Action</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price > all 3 DMAs</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong uptrend</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trail with 3x3; hold</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price touches 3x3</td><td class="px-4 py-2 border-b border-[#2a2e39]">Pullback in uptrend</td><td class="px-4 py-2 border-b border-[#2a2e39]">Buy setup</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price touches 7x5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Deep pullback</td><td class="px-4 py-2 border-b border-[#2a2e39]">Caution or stronger buy</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price touches 25x5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend in question</td><td class="px-4 py-2 border-b border-[#2a2e39]">Major decision point</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price < all 3 DMAs</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong downtrend</td><td class="px-4 py-2 border-b border-[#2a2e39]">Short or flat</td></tr>
</table></div>

<h3 id="signal-patterns">Signal Patterns</h3>

<h4 id="trend-thrust-entry">Trend Thrust Entry</h4>

<p class="mb-4">This pattern identifies pullback buying opportunities in established uptrends using DiNapoli's thrust concept. A thrust requires price to trade above the 3x3 DMA for at least 8 consecutive bars, proving trend commitment. When price pulls back to touch this DMA support level, it signals an optimal entry point with the trend.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def dma_thrust_entry(close, dma_3x3, thrust_bars=8):
&nbsp;&nbsp;&nbsp;&nbsp;bars_above = 0
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(thrust_bars):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if close[i] &gt; dma_3x3[i]:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bars_above += 1
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;thrust_confirmed = bars_above &gt;= thrust_bars
&nbsp;&nbsp;&nbsp;&nbsp;pullback_to_dma = abs(close[-1] - dma_3x3[-1]) &lt; atr / 2
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;return thrust_confirmed and pullback_to_dma
</code></pre>

<h4 id="double-repo-pattern">Double Repo Pattern</h4>

<p class="mb-4">DiNapoli's signature reversal signal occurs when price breaks above DMA, fails and drops below, then breaks above again. This "Double Repenetration" pattern indicates a washout of weak longs followed by genuine buying interest. The second break has higher probability because the stop-losses have already been cleared by the initial failure.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def double_repo(close, dma, lookback=20):
&nbsp;&nbsp;&nbsp;&nbsp;# Find first penetration above DMA
&nbsp;&nbsp;&nbsp;&nbsp;first_break_up = False
&nbsp;&nbsp;&nbsp;&nbsp;failed = False
&nbsp;&nbsp;&nbsp;&nbsp;second_break_up = False
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;for i in range(lookback):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if close[i] &gt; dma[i] and close[i+1] &lt;= dma[i+1]:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first_break_up = True
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if first_break_up and close[i] &lt; dma[i]:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failed = True
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if failed and close[i] &gt; dma[i]:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;second_break_up = True
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;return first_break_up and failed and second_break_up
</code></pre>

<h3 id="screening-filters">Screening Filters</h3>

<h4 id="dinapoli-thrust-scanner">DiNapoli Thrust Scanner</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
SET DMA_3x3 = SMA(Close, 3)[3]    // Displaced forward 3 bars
SET DMA_25x5 = SMA(Close, 25)[5]  // Major trend

FILTER =
&nbsp;&nbsp;(Close &gt; DMA_25x5) AND           // Major trend is up
&nbsp;&nbsp;(Close &gt; DMA_3x3 FOR last 8 bars) AND  // Thrust established
&nbsp;&nbsp;(Close TOUCHES DMA_3x3 today)    // Pullback entry zone
</code></pre>

<h4 id="ghost-support-setup">Ghost Support Setup</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
SET Future_DMA = SMA(Close, 3)[3]

FILTER =
&nbsp;&nbsp;(Close &gt; Future_DMA + 2*ATR) AND   // Price well above support
&nbsp;&nbsp;(Trend = UP) AND                    // Confirmed uptrend
&nbsp;&nbsp;(Stochastic_K &lt; 30)                 // Getting oversold for entry
</code></pre>

<h3 id="combination-strategies">Combination Strategies</h3>

<h4 id="dma-+-stochastic-thrust-strategy">DMA + Stochastic Thrust Strategy</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
TREND FILTER:
&nbsp;&nbsp;Close &gt; DMA(25, 5)

THRUST CONFIRMATION:
&nbsp;&nbsp;Close &gt; DMA(3, 3) for 8+ consecutive bars

ENTRY:
&nbsp;&nbsp;Price touches DMA(3, 3)
&nbsp;&nbsp;AND Stochastic(8, 3, 3) crosses above 25

STOP_LOSS:
&nbsp;&nbsp;DMA(3, 3) - 1 × ATR(14)

TAKE_PROFIT:
&nbsp;&nbsp;Recent swing high
&nbsp;&nbsp;OR trail with DMA(3, 3)
</code></pre>

<h4 id="multi-dma-trend-confirmation">Multi-DMA Trend Confirmation</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
STRONG_TREND =
&nbsp;&nbsp;Close &gt; DMA(3, 3) &gt; DMA(7, 5) &gt; DMA(25, 5)

ENTRY:
&nbsp;&nbsp;IF STRONG_TREND AND Close touches DMA(3, 3):
&nbsp;&nbsp;&nbsp;&nbsp;BUY at market

EXIT:
&nbsp;&nbsp;Close &lt; DMA(7, 5) for 2 consecutive bars
</code></pre>










                    </div>
                </article>
                <!-- Right: Sticky TOC -->
                <aside class="lg:block w-64 flex-shrink-0">
                    <div class="sticky top-24">
                        <h3 class="font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100 text-sm uppercase tracking-wider">
                            On this page
                        </h3>
                        <nav id="toc-nav" class="space-y-1 text-sm text-slate-600">
                            <a href="#1-identity" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Identity</a>
<a href="#2-calculation-logic" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Calculation Logic</a>
<a href="#formula" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Formula</a>
<a href="#real-world-analogy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Real-World Analogy</a>
<a href="#3-market-standards" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Market Standards</a>
<a href="#default-parameters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Default Parameters</a>
<a href="#alternative-configurations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Alternative Configurations</a>
<a href="#why-these-values" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Why These Values?</a>
<a href="#4-market-context" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Market Context</a>
<a href="#best-conditions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Best Conditions</a>
<a href="#limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Limitations</a>
<a href="#asset-class-suitability" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Asset Class Suitability</a>
<a href="#5-entry-signals" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Entry Signals</a>
<a href="#primary-buy-signal" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Primary Buy Signal</a>
<a href="#dinapoli-support-entry" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">DiNapoli Support Entry</a>
<a href="#6-filter-usage" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">6. Filter Usage</a>
<a href="#filter-rules" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Filter Rules</a>
<a href="#recommended-pairings" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Recommended Pairings</a>
<a href="#dinapoli-thrust-strategy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">DiNapoli Thrust Strategy</a>
<a href="#7-practical-cautions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">7. Practical Cautions</a>
<a href="#understanding-the-displacement" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Understanding the Displacement</a>
<a href="#false-signal-scenarios" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">False Signal Scenarios</a>
<a href="#mitigation-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Mitigation Strategies</a>
<a href="#8-pro-insights" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">8. Pro Insights</a>
<a href="#the-double-repo-pattern" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">The Double Repo Pattern</a>
<a href="#ghost-support-technique" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Ghost Support Technique</a>
<a href="#multi-dma-system" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Multi-DMA System</a>
<a href="#the-void-warning" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">The Void Warning</a>
<a href="#9-summary" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">9. Summary</a>
<a href="#1-core-concept" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Core Concept</a>
<a href="#2-statistical-edge" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Statistical Edge</a>
<a href="#backtest-observations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Backtest Observations</a>
<a href="#why-it-works" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Why It Works</a>
<a href="#trading-validation" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Trading Validation</a>
<a href="#3-actionable-strategy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Actionable Strategy</a>
<a href="#strategy-name:-"dinapoli-trend-thrust"" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Strategy Name: "DiNapoli Trend Thrust"</a>
<a href="#4-risks-&-limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Risks & Limitations</a>
<a href="#failure-patterns" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Failure Patterns</a>
<a href="#psychological-traps" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Psychological Traps</a>
<a href="#common-misinterpretations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Common Misinterpretations</a>
<a href="#5-further-study" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Further Study</a>
<a href="#creator-attribution" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Creator Attribution</a>
<a href="#related-indicators" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Related Indicators</a>
<a href="#recommended-readings" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Recommended Readings</a>
<a href="#55-related-indicators-comparison" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">5.5 Related Indicators Comparison</a>
<a href="#advanced-signal-reference" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">Advanced Signal Reference</a>
<a href="#threshold-matrix" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Threshold Matrix</a>
<a href="#signal-patterns" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Signal Patterns</a>
<a href="#screening-filters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Screening Filters</a>
<a href="#combination-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Combination Strategies</a>

                        </nav>
                        <div class="mt-8 pt-4 border-t border-slate-100">
                            <a href="#" class="text-xs text-slate-400 hover:text-indigo-600 flex items-center transition-colors">
                                Back to Top
                            </a>
                        </div>
                    </div>
                </aside>
            </div>
        </section>


    </div>


        <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-12">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-slate-400 text-sm">
                &copy; 2026 I ant I Investigates
            </p>
        </div>
    </footer>
        <!-- ========================================== -->
    <!-- 1. DATA & LOGIC INJECTION                  -->
    <!-- ========================================== -->
    <script>
        window.IndicatorLogic = {
            name: "DisplacedMovingAverage",
            params: [],
            calculate: null
        };
        (function() {
            try {
                const injectedCode = `
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 20;
                const displacement = params.displacement || 5;
                const result = DisplacedMovingAverage.calculate(data, period, displacement);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
        `;
                const isTemplatePlaceholder = injectedCode.includes('{{') && injectedCode.includes('CODE_INDICATOR_LOGIC');
                if (injectedCode && injectedCode.trim().length > 0 && !isTemplatePlaceholder) {
                    new Function(injectedCode)();
                } else {
                    console.warn("Playground Logic: Running in Preview/Fallback mode.");
                    window.IndicatorLogic.calculate = () => []; 
                }
            } catch (e) {
                console.error("Critical Error in Logic Injection:", e);
                window.IndicatorLogic.calculate = () => [];
            }
        })();
    </script>

    <!-- ========================================== -->
    <!-- 2. VISUALIZATION ENGINE                    -->
    <!-- ========================================== -->
    <script>
        mermaid.initialize({ startOnLoad: false, theme: 'neutral', securityLevel: 'loose' });
    </script>
    <!-- ========================================== -->
    <!-- 3. UI CONTROLLERS & APP INITIALIZATION     -->
    <!-- ========================================== -->
    <!-- INLINE UI CONTROLLERS (PORTED FROM 0117) -->
    <script src="../assets/js/DisplacedMovingAverage.js"></script>
    <!-- JSON Data Containers (XSS-safe) -->
    <script id="data-indicator-config" type="application/json">
[{"id": "period", "label": "Period (20)", "type": "number", "value": 20, "min": 2, "max": 100}, {"id": "displacement", "label": "Displacement (5)", "type": "number", "value": 5, "min": 1, "max": 100}]
    </script>
    <script id="data-indicator-display" type="application/json">
{"isOverlay": true, "plots": {"main": {"label": "DisplacedMovingAverage", "color": "#4f46e5", "type": "line"}}}
    </script>
    <script>
        // --- 0. Indicator Data Injection ---
        // Use existing IndicatorLogic (set in earlier script block), only set if not exists
        var IndicatorLogic = window.IndicatorLogic || { calculate: null };
        var IndicatorConfig = [];
        var IndicatorDisplay = { isOverlay: false, plots: {} };

        // 1. Library Code - loaded externally before this block

        // 2. Configuration (XSS-safe via script type="application/json")
        try {
            var configEl = document.getElementById('data-indicator-config');
            if(configEl && configEl.textContent.trim()) {
                IndicatorConfig = JSON.parse(configEl.textContent);
            }
        } catch(e){ console.warn('Config parse error', e); }

        try {
            var displayEl = document.getElementById('data-indicator-display');
            if(displayEl && displayEl.textContent.trim()) {
                IndicatorDisplay = JSON.parse(displayEl.textContent);
            }
        } catch(e){ console.warn('Display parse error', e); }

        // 3. Logic Adapter
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 20;
                const displacement = params.displacement || 5;
                const result = DisplacedMovingAverage.calculate(data, period, displacement);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
    </script>

    <!-- UI Controllers: indicator.js loads first to define PlaygroundController -->
    <script src="../assets/js/indicator.js" defer></script>
    <!-- script.js loads second, skips PlaygroundController if already defined -->
    <script src="../assets/js/script.js" defer></script>

</body>
</html>