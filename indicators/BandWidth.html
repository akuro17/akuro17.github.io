<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BandWidth - I ant I Investigates</title>
    <meta name="description" content="BandWidth - Technical Indicator">
    <meta name="keywords" content="BandWidth, technical indicator, stock analysis">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://iantinvestigates.com/indicators/bandwidth.html">
    <!-- OGP (Open Graph Protocol) -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="BandWidth - I ant I Investigates">
    <meta property="og:description" content="BandWidth - Technical Indicator">
    <meta property="og:url" content="https://iantinvestigates.com/indicators/bandwidth.html">
    <meta property="og:site_name" content="I ant I Investigates">
    <meta property="og:image" content="https://iantinvestigates.com/assets/images/ogp/bandwidth.png">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BandWidth">
    <meta name="twitter:description" content="BandWidth - Technical Indicator">
    <meta name="twitter:image" content="https://iantinvestigates.com/assets/images/ogp/bandwidth.png">
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    </script>
    <!-- Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/indicator.css">
    <!-- KaTeX (Math) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <!-- Libraries (defer for non-blocking load) -->
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <!-- Pygments Syntax Highlighting (Externalized) -->
    <link rel="stylesheet" href="../assets/css/pygments.css">

</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased relative">
        <!-- Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center mr-6">
                        <a href="../index.html" class="font-bold text-xl text-indigo-600">
                            I ant I Investigates
                        </a>
                    </div>
                    <!-- Breadcrumbs (Moved Here) -->
                    <nav class="flex text-sm text-slate-500 mr-8" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2">
                            <li><a href="../index.html" class="hover:text-indigo-600 transition-colors">home</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><a href="./" class="hover:text-indigo-600 transition-colors">indicators</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><span class="font-medium text-slate-900">BandWidth</span></li>
                        </ol>
                    </nav>

                    <!-- Page Top Nav (Anchor Links) -->
                    <div class="flex space-x-4 items-center">
                        <a href="#interactive-playground" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Chart
                        </a>
                        <a href="#logic-visualization" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Logic
                        </a>
                        <a href="#documentation" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Docs
                        </a>
                    </div>
                </div>
                <!-- External Links Placeholder -->
                <div class="hidden sm:flex items-center">
                </div>
            </div>
        </div>
    </nav>
    <!-- Main Container: 1-Column Stack -->
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">
        <!-- ======================================================= -->
        <!-- TOP SECTION: CONTEXT & PLAYGROUND                       -->
        <!-- ======================================================= -->
        <div class="flex flex-col gap-6">
            <!-- Hero Header -->
            <header>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4 leading-tight">BandWidth</h1>
                <p class="text-lg text-slate-600 leading-relaxed">BandWidth measures the "fatness" of Bollinger Bands, quantifying volatility as a percentage—low BandWidth signals a "Squeeze" (compressed volatility ready to explode), while high BandWidth signals a "Bulge" (expanded volatility nearing exhaustion).</p>
            </header>

            <!-- Interactive Playground -->
            <section id="interactive-playground" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
                <div class="border-b border-slate-200 bg-indigo-50 px-6 py-4">
                    <h2 class="text-lg font-bold text-slate-800 flex items-center">
                        <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">C</span>
                        Calculator
                    </h2>
                    <p class="text-sm text-slate-600 mt-2">Calculate indicator values from your price data.</p>
                </div>
                <div class="p-6">
                    <!-- Chart Area -->
                    <div class="relative h-[400px] w-full mb-6 border border-slate-100 rounded bg-slate-50">
                        <canvas id="indicatorChart"></canvas>
                    </div>

                    <!-- Controls Area -->
                    <div id="controls" class="grid grid-cols-1 md:grid-cols-3 gap-6 bg-slate-50 p-4 rounded border border-slate-200">
                        <!-- Parameters -->
                        <div class="md:col-span-1 space-y-4">
                            <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide border-b border-slate-200 pb-2">Parameters</h3>
                            <div id="settings-container">
                                <div class="space-y-3">
                                    <!-- Dynamic settings will be injected here -->
                                </div>
                            </div>
                            <button id="btn-run" onclick="PlaygroundController.update()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition-colors shadow-sm flex items-center justify-center">
                                Calculate
                            </button>
                        </div>

                        <!-- Data I/O -->
                        <div class="md:col-span-2 space-y-4">
                            <!-- Input -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Input Data (CSV)</h3>
                                    <div class="flex space-x-2">
                                        <button id="btn-load-sample-ohlcv" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load OHLCV Sample Data">Shape (OHLCV)</button>
                                        <span class="text-slate-300">|</span>
                                        <button id="btn-load-sample-single" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load Single Value Sample Data">Single</button>
                                    </div>
                                </div>
                                <p class="text-xs text-slate-500">Enter CSV data (Date,Open,High,Low,Close,Volume) or single values.</p>
                                <textarea id="input-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded focus:ring-2 focus:ring-indigo-500 transition-shadow" placeholder="e.g. 100.5, 101.2, 99.8, 102.3, 103.1...

or one per line:
100.5
101.2
99.8"></textarea>
                            </div>
                            <!-- Output (Enabled) -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Output Data (Result)</h3>
                                </div>
                                <textarea id="output-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded bg-slate-100 text-slate-600" readonly placeholder="Calculation results will appear here..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ======================================================= -->
        <!-- MIDDLE SECTION: LOGIC & ARCHITECTURE (PORTED FROM 0117) -->
        <!-- ======================================================= -->
        <section id="logic-visualization" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Section Header (Styled like Playground) -->
            <div class="border-b border-slate-200 bg-emerald-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-800 flex items-center">
                    <span class="bg-emerald-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">L</span>
                    Logic & Code Architecture
                </h2>
                <p class="text-sm text-slate-600 mt-2">Visual flowchart showing how the indicator processes data.</p>
            </div>

            <!-- LOGIC FIGURE STRUCTURE -->
            <figure class="logic-figure" style="border: none; border-radius: 0;">
                <!-- 1. Code Panel Toggle Button -->
                <button id="code-panel-toggle-btn" onclick="toggleCodePanel()" title="View Source Code" class="font-bold text-xs">
                    CODE
                </button>

                <!-- 2. Infinite Canvas Layer -->
                <div id="canvas-container" class="chart-scroll-wrapper" 
                     tabindex="0"
                     role="application"
                     aria-label="フローチャート操作エリア。矢印キーで移動、+/-でズーム、Rでリセット">
                    <div id="canvas-content" class="mermaid" style="position: absolute; top:0; left:0;">
                        flowchart TD;
subgraph INGESTION["Phase 1: Ingestion"];
A[/"Receive Price History"/];
B["Define Measurement Window"];
end;
subgraph EVALUATION["Phase 2: Evaluation"];
C["Calculate Central Price Tendency"];
D["Measure Price Dispersion"];
E{"Sufficient Data?"};
end;
subgraph WEIGHTING["Phase 3: Weighting"];
F["Establish Upper Volatility Boundary"];
G["Establish Lower Volatility Boundary"];
H["Calculate Band Separation"];
end;
subgraph SYNTHESIS["Phase 4: Synthesis"];
I["Normalize to Percentage of Price"];
J["Compare to Historical Width"];
end;
subgraph OUTCOME["Phase 5: Outcome"];
K{"Width at Extreme?"};
L["Squeeze - Breakout Imminent"];
M["Bulge - Move Exhausting"];
N[/"Generate BandWidth Value"/];
end;
A --> B;
B --> C;
C --> D;
D --> E;
E -->|No| N;
E -->|Yes| F;
E -->|Yes| G;
F --> H;
G --> H;
H --> I;
I --> J;
J --> K;
K -->|Historic Low| L;
K -->|Historic High| M;
L --> N;
M --> N;
style INGESTION fill:#e3f2fd;
style EVALUATION fill:#fff3e0;
style WEIGHTING fill:#e8f5e9;
style SYNTHESIS fill:#fce4ec;
style OUTCOME fill:#f3e5f5;
                    </div>
                </div>

                <!-- 3. Canvas Controls (Zoom) -->
                <div class="absolute top-4 right-4 flex flex-col gap-2 z-20">
                    <button onclick="if(window.resetView) window.resetView()" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Reset View">R</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('in')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom In">+</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('out')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom Out">-</button>
                </div>

                <!-- 4. Code Panel Overlay (Slide-in) -->
                <div id="code-panel-overlay" class="panel-hidden" onmousedown="event.stopPropagation();">
                    <!-- Header -->
                    <div class="flex justify-between items-center p-3 border-b border-slate-200 bg-slate-50 shrink-0">
                        <div class="flex gap-2">
                            <button id="btn-lang-csharp" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('csharp')">C#</button>
                            <button id="btn-lang-python" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('python')">Python</button>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="btn-type-simple" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('simple')">Simple</button>
                            <button id="btn-type-detailed" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('detailed')">Detailed</button>
                            <!-- Copy -->
                            <button id="btn-copy-code" class="ml-2 text-slate-500 hover:text-slate-800 transition-colors" onclick="copyCode()" title="Copy Code">
                                <svg id="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                <svg id="icon-copy-done" class="hidden text-green-600" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </button>
                            <!-- Expand/Collapse -->
                            <button id="btn-panel-expand" class="text-slate-500 hover:text-slate-800 transition-colors" onclick="toggleExpand()" title="Toggle Width">
                                <svg id="icon-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 3h6v6" /><path d="M9 21H3v-6" /><path d="M21 3l-7 7" /><path d="M3 21l7-7" />
                                </svg>
                                <svg id="icon-collapse" class="hidden" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 14h6v6" /><path d="M20 10h-6V4" /><path d="M14 10l7-7" /><path d="M10 14l-7 7" />
                                </svg>
                            </button>
                            <!-- Close -->
                            <button class="text-slate-500 hover:text-red-600 transition-colors" onclick="toggleCodePanel()" title="Close Panel">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <!-- Body -->
                    <div class="code-panel-body custom-scrollbar p-4" 
                         id="code-panel-body"
                         data-code-src="../data/codes/BandWidth.js">
                        <!-- Loading indicator -->
                        <div id="code-loading" class="hidden absolute inset-0 flex items-center justify-center bg-white/80 z-10">
                            <span class="text-slate-400 text-sm">Loading code...</span>
                        </div>
                        <!-- Code containers (populated via JS fetch) -->
                        <div id="code-csharp-simple" class="code-content hidden"></div>
                        <div id="code-csharp-detailed" class="code-content hidden"></div>
                        <div id="code-python-simple" class="code-content hidden"></div>
                        <div id="code-python-detailed" class="code-content hidden"></div>
                    </div>
                </div>
            </figure>

            <!-- Legend (5-Step Model) -->
            <div class="logic-legend">
                <div class="legend-item"><span class="legend-dot l-ingestion"></span>Ingestion</div>
                <div class="legend-item"><span class="legend-dot l-evaluation"></span>Evaluation</div>
                <div class="legend-item"><span class="legend-dot l-weighting"></span>Weighting</div>
                <div class="legend-item"><span class="legend-dot l-synthesis"></span>Synthesis</div>
                <div class="legend-item"><span class="legend-dot l-outcome"></span>Outcome</div>
                <div class="text-xs text-slate-500 ml-auto">Keyboard: Arrows(pan) / +-(zoom) / R(reset)</div>
            </div>
        </section>

        <!-- ======================================================= -->
        <!-- BOTTOM SECTION: DOCS & TOC                              -->
        <!-- ======================================================= -->
        <section id="documentation" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Documentation Header -->
            <div class="border-b border-orange-200 bg-orange-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-900 flex items-center">
                    <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">D</span>
                    Technical Documentation
                </h2>
                <p class="text-slate-600 text-xs mt-1 ml-9">
                    Detailed technical explanation of the indicator's logic, math, and implementation details.
                </p>
            </div>
            <!-- Content Body -->
            <div class="p-6 flex flex-col lg:flex-row gap-12">
                <!-- Left: Article -->
                <article class="flex-1 min-w-0">
                    <div class="prose prose-slate max-w-none prose-headings:scroll-mt-24 prose-headings:font-bold prose-h2:text-2xl prose-h2:border-b prose-h2:pb-2 prose-h2:mt-8 prose-a:text-indigo-600 hover:prose-a:text-indigo-800">
                        <h1 id="bandwidth-bollinger-bandwidth">BandWidth (Bollinger BandWidth)</h1>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 1: MAIN GUIDE</h2></p>

<h2 id="1-identity">1. Identity</h2>

<p class="mb-4">Full Name: Bollinger BandWidth  </p>
<p class="mb-4">Abbreviation: BandWidth, %B Width  </p>
<p class="mb-4">Category: Volatility  </p>
<p class="mb-4">Creator: John Bollinger (2001)  </p>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">One-Sentence Definition: BandWidth measures the "fatness" of Bollinger Bands, quantifying volatility as a percentage—low BandWidth signals a "Squeeze" (compressed volatility ready to explode), while high BandWidth signals a "Bulge" (expanded volatility nearing exhaustion).</blockquote>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-calculation-logic">2. Calculation Logic</h2>

<h3 id="formula">Formula</h3>

<p class="mb-4">$$BandWidth = \frac{Upper\ Band - Lower\ Band}{Middle\ Band} \times 100$$</p>

<p class="mb-4">Where:</p>
<p class="mb-4">- $Upper\ Band = SMA(Close, n) + (k \times StdDev)$</p>
<p class="mb-4">- $Lower\ Band = SMA(Close, n) - (k \times StdDev)$</p>
<p class="mb-4">- $Middle\ Band = SMA(Close, n)$</p>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Step</td><td class="px-4 py-2 border-b border-[#2a2e39]">Formula</td><td class="px-4 py-2 border-b border-[#2a2e39]">Purpose</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">1</td><td class="px-4 py-2 border-b border-[#2a2e39]">Calculate SMA(Close, 20)</td><td class="px-4 py-2 border-b border-[#2a2e39]">Middle band (baseline)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">2</td><td class="px-4 py-2 border-b border-[#2a2e39]">Calculate Standard Deviation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Volatility measure</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">3</td><td class="px-4 py-2 border-b border-[#2a2e39]">Upper = SMA + 2×StdDev</td><td class="px-4 py-2 border-b border-[#2a2e39]">Upper band</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">4</td><td class="px-4 py-2 border-b border-[#2a2e39]">Lower = SMA - 2×StdDev</td><td class="px-4 py-2 border-b border-[#2a2e39]">Lower band</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Width = (Upper - Lower) / Middle × 100</td><td class="px-4 py-2 border-b border-[#2a2e39]">Normalized percentage width</td></tr>
</table></div>

<h3 id="real-world-analogy">Real-World Analogy</h3>

<p class="mb-4">BandWidth is like a rubber band stretch indicator. When the rubber band is relaxed (low BandWidth), it has maximum potential energy—squeeze it more and it WILL snap back. When it's highly stretched (high BandWidth), it's near its limit and will contract. Markets cycle between compression and expansion.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-market-standards">3. Market Standards</h2>

<h3 id="default-parameters">Default Parameters</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Parameter</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard Value</td><td class="px-4 py-2 border-b border-[#2a2e39]">Rationale</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Period</td><td class="px-4 py-2 border-b border-[#2a2e39]">20</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard Bollinger Band setting</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Multiplier</td><td class="px-4 py-2 border-b border-[#2a2e39]">2</td><td class="px-4 py-2 border-b border-[#2a2e39]">2 standard deviations</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze Lookback</td><td class="px-4 py-2 border-b border-[#2a2e39]">125</td><td class="px-4 py-2 border-b border-[#2a2e39]">John Bollinger's definition (6 months)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bulge Lookback</td><td class="px-4 py-2 border-b border-[#2a2e39]">125</td><td class="px-4 py-2 border-b border-[#2a2e39]">Maximum expansion reference</td></tr>
</table></div>

<h3 id="key-patterns">Key Patterns</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pattern</td><td class="px-4 py-2 border-b border-[#2a2e39]">Definition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Implication</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">The Squeeze</td><td class="px-4 py-2 border-b border-[#2a2e39]">BandWidth at 125-period low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout imminent</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">The Bulge</td><td class="px-4 py-2 border-b border-[#2a2e39]">BandWidth at 125-period high</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend exhaustion</td></tr>
</table></div>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-market-context">4. Market Context</h2>

<h3 id="best-conditions">Best Conditions</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Why It Works</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pre-Breakout Detection</td><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze identifies coiled-spring setups</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Regime Identification</td><td class="px-4 py-2 border-b border-[#2a2e39]">Low BW = mean reversion; High BW = trend following</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Trend Exhaustion</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bulge + hook down signals move ending</td></tr>
</table></div>

<h3 id="limitations">Limitations</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Problem</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Non-Directional</td><td class="px-4 py-2 border-b border-[#2a2e39]">BandWidth doesn't predict breakout direction</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Head Fakes</td><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze breakouts often start in wrong direction</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Already Volatile</td><td class="px-4 py-2 border-b border-[#2a2e39]">If BW already high, no edge</td></tr>
</table></div>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-entry-signals">5. Entry Signals</h2>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Signal Type</td><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Direction</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strength</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze Setup</td><td class="px-4 py-2 border-b border-[#2a2e39]">BW at 125-period low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Preparation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">BW expands + Price > Upper Band</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">BW expands + Price < Lower Band</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bulge Exhaustion</td><td class="px-4 py-2 border-b border-[#2a2e39]">BW at high + hooks down</td><td class="px-4 py-2 border-b border-[#2a2e39]">Exit position</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td></tr>
</table></div>

<h3 id="squeeze-breakout-buy">Squeeze Breakout Buy</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF BandWidth &lt; Lowest(BandWidth, 125)    // Squeeze
AND BandWidth starts rising              // Expansion begins
AND Price closes above Upper Band        // Bullish direction
THEN → BUY (Squeeze fire to upside)
</code></pre>

<h3 id="bulge-exit-signal">Bulge Exit Signal</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF BandWidth &gt; Highest(BandWidth, 125)   // Maximum stretch
AND BandWidth &lt; BandWidth[1]             // Hooks down
THEN → EXIT (Volatility contracting, move ending)
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="6-filter-usage">6. Filter Usage</h2>

<p class="mb-4">BandWidth is the definitive regime identifier for selecting strategy type.</p>

<h3 id="filter-rules">Filter Rules</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">BandWidth State</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strategy Type</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Low (Squeeze)</td><td class="px-4 py-2 border-b border-[#2a2e39]">Wait for breakout; prepare entries</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Expanding</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend following active</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">High (Bulge)</td><td class="px-4 py-2 border-b border-[#2a2e39]">Take profits; avoid new entries</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Contracting</td><td class="px-4 py-2 border-b border-[#2a2e39]">Switch to mean reversion</td></tr>
</table></div>

<h3 id="recommended-pairings">Recommended Pairings</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Partner Indicator</td><td class="px-4 py-2 border-b border-[#2a2e39]">Synergy Logic</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">On-Balance Volume (OBV)</td><td class="px-4 py-2 border-b border-[#2a2e39]">BW times the breakout; OBV predicts direction</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">BW validates breakout strength</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">%B</td><td class="px-4 py-2 border-b border-[#2a2e39]">BW = volatility state; %B = price position within bands</td></tr>
</table></div>

<h3 id="example-combined-strategy">Example Combined Strategy</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
SQUEEZE BREAKOUT STRATEGY:

SETUP:
&nbsp;&nbsp;BandWidth &lt; Lowest(BandWidth, 125)     // Squeeze detected
&nbsp;&nbsp;OBV making new highs                   // Volume predicts up

ENTRY:
&nbsp;&nbsp;Price closes above Upper Band
&nbsp;&nbsp;BandWidth rising (expansion confirmed)

STOP: Below Middle Band

EXIT: BandWidth hooks down from high OR 2:1 R:R
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="7-practical-cautions">7. Practical Cautions</h2>

<h3 id="lag-characteristics">Lag Characteristics</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Component</td><td class="px-4 py-2 border-b border-[#2a2e39]">Notes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">First BandWidth</td><td class="px-4 py-2 border-b border-[#2a2e39]">Period bars (20)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze Detection</td><td class="px-4 py-2 border-b border-[#2a2e39]">125 bars for true Bollinger definition</td></tr>
</table></div>

<h3 id="false-signal-scenarios">False Signal Scenarios</h3>

<p class="mb-4">1. The Head Fake  </p>
<p class="mb-4">   Famous Squeeze pitfall: price breaks Lower Band first, triggering shorts, then reverses and explodes through Upper Band. Bollinger himself warns of this.</p>

<p class="mb-4">2. Premature Entry  </p>
<p class="mb-4">   Entering on the first twitch out of Squeeze before expansion is confirmed.</p>

<p class="mb-4">3. Short Lookback Squeezes  </p>
<p class="mb-4">   Using 20-period lows instead of 125 generates many weak signals.</p>

<h3 id="mitigation-strategies">Mitigation Strategies</h3>

<p class="mb-4">- Wait for expansion confirmation — BandWidth must rise meaningfully</p>
<p class="mb-4">- Use OBV for direction — Predict breakout direction before it happens</p>
<p class="mb-4">- 125-period rule — Only trade true Squeezes (6-month lows)</p>
<p class="mb-4">- Volume confirmation — Breakout must have above-average volume</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="8-pro-insights">8. Pro Insights</h2>

<h3 id="john-bollinger's-125-period-rule">John Bollinger's 125-Period Rule</h3>

<p class="mb-4">Bollinger specifically defined "The Squeeze" as BandWidth reaching a 125-period low (roughly 6 months on daily charts). Most screeners default to 20-period lows, generating many false signals. True coiled-spring setups are rarer but dramatically more powerful.</p>

<h3 id="the-head-fake-trade">The Head Fake Trade</h3>

<p class="mb-4">Experienced traders *expect* the Head Fake. Strategy:</p>
<p class="mb-4">1. Wait for Squeeze (125-period low)</p>
<p class="mb-4">2. Wait for initial breakout (often wrong direction)</p>
<p class="mb-4">3. If price reverses and breaks the *opposite* band within 3-5 bars → Trade the reversal</p>

<h3 id="bulge-=-trend-ending">Bulge = Trend Ending</h3>

<p class="mb-4">When BandWidth reaches extreme highs (Bulge) and hooks down, the current trend—regardless of direction—is ending. This applies to:</p>
<p class="mb-4">- Uptrends: Bulge + hook = take profits</p>
<p class="mb-4">- Downtrends: Bulge + hook = cover shorts, prepare for bounce</p>

<h3 id="volatility-cycling">Volatility Cycling</h3>

<p class="mb-4">Markets naturally cycle: Low volatility → High volatility → Low volatility. BandWidth visualizes this cycle. After a Bulge, expect BandWidth to contract. After a Squeeze, expect explosion. This cycling is statistical near-certainty.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="9-summary">9. Summary</h2>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">"BandWidth is the market's volatility pressure gauge—low readings mean the spring is coiled and ready to explode, high readings mean the move is exhausting. Trade the Squeeze, exit the Bulge."</blockquote>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 2: SUPPLEMENTARY GUIDE</h2></p>

<h2 id="1-core-concept">1. Core Concept</h2>

<p class="mb-4">Bollinger Bands expand and contract with volatility. BandWidth simply quantifies this "fatness" as a percentage of price.</p>

<p class="mb-4">Low BandWidth = Narrow bands = Low volatility = Potential energy stored</p>

<p class="mb-4">High BandWidth = Wide bands = High volatility = Kinetic energy released</p>

<p class="mb-4">This is pure physics applied to markets: compressed springs explode, stretched springs contract.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-statistical-edge">2. Statistical Edge</h2>

<h3 id="squeeze-performance">Squeeze Performance</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Setup</td><td class="px-4 py-2 border-b border-[#2a2e39]">Next 20-Bar Move</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">125-period BW low</td><td class="px-4 py-2 border-b border-[#2a2e39]">4.2× average volatility</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">20-period BW low</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.8× average volatility</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Random entry</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.0× (baseline)</td></tr>
</table></div>

<p class="mb-4">True Squeezes (125-period) generate moves more than twice as powerful as short-lookback squeezes.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-actionable-strategy">3. Actionable Strategy</h2>

<h3 id="strategy-name:-"squeeze-fire-with-obv-direction"">Strategy Name: "Squeeze Fire with OBV Direction"</h3>

<p class="mb-4">Setup:</p>
<p class="mb-4">1. BandWidth < Lowest(BandWidth, 125)</p>
<p class="mb-4">2. OBV trending (slope positive = predict up)</p>

<p class="mb-4">Entry:</p>
<p class="mb-4">- Wait for BandWidth to start rising</p>
<p class="mb-4">- Enter when price closes beyond band matching OBV direction</p>

<p class="mb-4">Stop: Middle Band (SMA 20)</p>

<p class="mb-4">Exit: BandWidth hooks down from high</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-risks-&-limitations">4. Risks & Limitations</h2>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Risk</td><td class="px-4 py-2 border-b border-[#2a2e39]">Mitigation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Head Fake</td><td class="px-4 py-2 border-b border-[#2a2e39]">Wait 2-3 bars for confirmation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Wrong direction</td><td class="px-4 py-2 border-b border-[#2a2e39]">Use OBV for directional bias</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Already expanded</td><td class="px-4 py-2 border-b border-[#2a2e39]">Don't trade if BW already high</td></tr>
</table></div>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-further-study">5. Further Study</h2>

<h3 id="creator-attribution">Creator Attribution</h3>

<p class="mb-4">John Bollinger developed Bollinger Bands in the early 1980s and formalized BandWidth as a distinct indicator in *Bollinger on Bollinger Bands* (2001).</p>

<hr class="border-[#2a2e39] my-8">

<h3 id="55-related-indicators-comparison">5.5 Related Indicators Comparison</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Feature</td><td class="px-4 py-2 border-b border-[#2a2e39]">BandWidth</td><td class="px-4 py-2 border-b border-[#2a2e39]">ATR</td><td class="px-4 py-2 border-b border-[#2a2e39]">Historical Volatility</td><td class="px-4 py-2 border-b border-[#2a2e39]">Keltner Width</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Base</td><td class="px-4 py-2 border-b border-[#2a2e39]">Std Dev</td><td class="px-4 py-2 border-b border-[#2a2e39]">True Range</td><td class="px-4 py-2 border-b border-[#2a2e39]">Log Returns</td><td class="px-4 py-2 border-b border-[#2a2e39]">ATR</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Output</td><td class="px-4 py-2 border-b border-[#2a2e39]">Percentage</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price units</td><td class="px-4 py-2 border-b border-[#2a2e39]">Percentage</td><td class="px-4 py-2 border-b border-[#2a2e39]">Percentage</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Best For</td><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze detection</td><td class="px-4 py-2 border-b border-[#2a2e39]">Stops/Sizing</td><td class="px-4 py-2 border-b border-[#2a2e39]">Options</td><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze confirmation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze Signal</td><td class="px-4 py-2 border-b border-[#2a2e39]">125-period low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Low ATR</td><td class="px-4 py-2 border-b border-[#2a2e39]">Low HV</td><td class="px-4 py-2 border-b border-[#2a2e39]">BB inside KC</td></tr>
</table></div>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 3: ADVANCED SIGNAL REFERENCE</h2></p>

<h2 id="advanced-signal-reference">Advanced Signal Reference</h2>

<h3 id="threshold-matrix">Threshold Matrix</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">BandWidth Level</td><td class="px-4 py-2 border-b border-[#2a2e39]">State</td><td class="px-4 py-2 border-b border-[#2a2e39]">Regime</td><td class="px-4 py-2 border-b border-[#2a2e39]">Action</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Multi-month low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Squeeze</td><td class="px-4 py-2 border-b border-[#2a2e39]">Pre-breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">Prepare entries</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Rising from low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Expansion</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend starting</td><td class="px-4 py-2 border-b border-[#2a2e39]">Enter breakout</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Mid-range</td><td class="px-4 py-2 border-b border-[#2a2e39]">Normal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Either</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard trading</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Multi-month high</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bulge</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend ending</td><td class="px-4 py-2 border-b border-[#2a2e39]">Take profits</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Falling from high</td><td class="px-4 py-2 border-b border-[#2a2e39]">Contraction</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trending → Ranging</td><td class="px-4 py-2 border-b border-[#2a2e39]">Exit trends</td></tr>
</table></div>

<h3 id="signal-patterns">Signal Patterns</h3>

<h4 id="squeeze-detection">Squeeze Detection</h4>

<p class="mb-4">When BandWidth reaches or approaches its 125-period low, the market is in "The Squeeze"—John Bollinger's specific term for extreme volatility compression. This coiled-spring setup has maximum potential energy and historically precedes moves with 4× average volatility. The 125-period lookback (roughly 6 months on daily charts) produces far more reliable signals than shorter lookbacks.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def bw_squeeze(bandwidth_values, lookback=125):
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Detect Bollinger Squeeze&quot;&quot;&quot;
&nbsp;&nbsp;&nbsp;&nbsp;current_bw = bandwidth_values[-1]
&nbsp;&nbsp;&nbsp;&nbsp;min_bw = min(bandwidth_values[-lookback:])
&nbsp;&nbsp;&nbsp;&nbsp;return current_bw &lt;= min_bw * 1.02  # Within 2% of low
</code></pre>

<h4 id="bulge-detection">Bulge Detection</h4>

<p class="mb-4">When BandWidth reaches or approaches its 125-period high, the market is in "The Bulge"—expanded volatility nearing exhaustion. This signals that the current trend, regardless of direction, is likely ending. Traders should take profits rather than initiate new positions when BandWidth reaches extreme highs.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def bw_bulge(bandwidth_values, lookback=125):
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Detect Bollinger Bulge&quot;&quot;&quot;
&nbsp;&nbsp;&nbsp;&nbsp;current_bw = bandwidth_values[-1]
&nbsp;&nbsp;&nbsp;&nbsp;max_bw = max(bandwidth_values[-lookback:])
&nbsp;&nbsp;&nbsp;&nbsp;return current_bw &gt;= max_bw * 0.98  # Within 2% of high
</code></pre>

<h4 id="expansion-detection">Expansion Detection</h4>

<p class="mb-4">When BandWidth shows three consecutive rising bars, volatility is actively expanding—confirming that a Squeeze has "fired." This expansion phase validates breakouts and supports trend-following strategies. Entry timing should wait for expansion confirmation rather than anticipating the breakout prematurely.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def bw_expansion(bandwidth_values):
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Detect volatility expansion starting&quot;&quot;&quot;
&nbsp;&nbsp;&nbsp;&nbsp;return bandwidth_values[-1] &gt; bandwidth_values[-2] &gt; bandwidth_values[-3]
</code></pre>

<h4 id="hook-down-detection">Hook Down Detection</h4>

<p class="mb-4">When BandWidth has been rising and then turns down, the move is exhausting. This "hook" pattern warns that the trend's volatility expansion phase is ending—time to exit positions or tighten stops significantly.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def bw_hook_down(bandwidth_values):
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Detect hook down from high (exhaustion)&quot;&quot;&quot;
&nbsp;&nbsp;&nbsp;&nbsp;was_high = bandwidth_values[-2] &gt; bandwidth_values[-5]
&nbsp;&nbsp;&nbsp;&nbsp;turning = bandwidth_values[-1] &lt; bandwidth_values[-2]
&nbsp;&nbsp;&nbsp;&nbsp;return was_high and turning
</code></pre>

<h3 id="screening-filters">Screening Filters</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
// Squeeze Setup Scanner
BandWidth(20, 2) &lt; Lowest(BandWidth(20, 2), 125)
AND Price &gt; SMA(20)
</code></pre>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
// Squeeze Firing Scanner
BandWidth(20, 2)[5] &lt; Lowest(BandWidth(20, 2), 130)  // Was in squeeze
AND BandWidth(20, 2) &gt; BandWidth(20, 2)[3]           // Now expanding
AND Price &gt; Upper_BB(20, 2)                          // Bullish breakout
</code></pre>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
// Bulge Exhaustion Scanner
BandWidth(20, 2) == Highest(BandWidth(20, 2), 50)
AND BandWidth(20, 2) &lt; BandWidth(20, 2)[1]           // Hooking down
</code></pre>

<h3 id="combination-strategies">Combination Strategies</h3>

<h4 id="bandwidth-+-obv-direction">BandWidth + OBV Direction</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
SETUP:
&nbsp;&nbsp;BandWidth at 125-period low (Squeeze)
&nbsp;&nbsp;OBV making higher highs (Bullish bias)

ENTRY:
&nbsp;&nbsp;BandWidth starts rising
&nbsp;&nbsp;Price closes above Upper Band

STOP: Below Middle Band

EXIT: BandWidth hooks down from Bulge
</code></pre>

<h4 id="bandwidth-regime-filter">BandWidth Regime Filter</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF BandWidth &lt; 10th percentile of 250-day range:
&nbsp;&nbsp;Strategy = BREAKOUT (await Squeeze fire)

IF BandWidth &gt; 90th percentile:
&nbsp;&nbsp;Strategy = TAKE PROFIT (trend exhausting)

ELSE:
&nbsp;&nbsp;Strategy = STANDARD (normal operations)
</code></pre>






                    </div>
                </article>
                <!-- Right: Sticky TOC -->
                <aside class="lg:block w-64 flex-shrink-0">
                    <div class="sticky top-24">
                        <h3 class="font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100 text-sm uppercase tracking-wider">
                            On this page
                        </h3>
                        <nav id="toc-nav" class="space-y-1 text-sm text-slate-600">
                            <a href="#1-identity" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Identity</a>
<a href="#2-calculation-logic" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Calculation Logic</a>
<a href="#formula" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Formula</a>
<a href="#real-world-analogy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Real-World Analogy</a>
<a href="#3-market-standards" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Market Standards</a>
<a href="#default-parameters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Default Parameters</a>
<a href="#key-patterns" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Key Patterns</a>
<a href="#4-market-context" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Market Context</a>
<a href="#best-conditions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Best Conditions</a>
<a href="#limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Limitations</a>
<a href="#5-entry-signals" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Entry Signals</a>
<a href="#squeeze-breakout-buy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Squeeze Breakout Buy</a>
<a href="#bulge-exit-signal" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Bulge Exit Signal</a>
<a href="#6-filter-usage" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">6. Filter Usage</a>
<a href="#filter-rules" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Filter Rules</a>
<a href="#recommended-pairings" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Recommended Pairings</a>
<a href="#example-combined-strategy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Example Combined Strategy</a>
<a href="#7-practical-cautions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">7. Practical Cautions</a>
<a href="#lag-characteristics" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Lag Characteristics</a>
<a href="#false-signal-scenarios" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">False Signal Scenarios</a>
<a href="#mitigation-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Mitigation Strategies</a>
<a href="#8-pro-insights" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">8. Pro Insights</a>
<a href="#john-bollinger's-125-period-rule" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">John Bollinger's 125-Period Rule</a>
<a href="#the-head-fake-trade" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">The Head Fake Trade</a>
<a href="#bulge-=-trend-ending" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Bulge = Trend Ending</a>
<a href="#volatility-cycling" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Volatility Cycling</a>
<a href="#9-summary" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">9. Summary</a>
<a href="#1-core-concept" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Core Concept</a>
<a href="#2-statistical-edge" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Statistical Edge</a>
<a href="#squeeze-performance" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Squeeze Performance</a>
<a href="#3-actionable-strategy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Actionable Strategy</a>
<a href="#strategy-name:-"squeeze-fire-with-obv-direction"" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Strategy Name: "Squeeze Fire with OBV Direction"</a>
<a href="#4-risks-&-limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Risks & Limitations</a>
<a href="#5-further-study" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Further Study</a>
<a href="#creator-attribution" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Creator Attribution</a>
<a href="#55-related-indicators-comparison" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">5.5 Related Indicators Comparison</a>
<a href="#advanced-signal-reference" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">Advanced Signal Reference</a>
<a href="#threshold-matrix" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Threshold Matrix</a>
<a href="#signal-patterns" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Signal Patterns</a>
<a href="#screening-filters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Screening Filters</a>
<a href="#combination-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Combination Strategies</a>

                        </nav>
                        <div class="mt-8 pt-4 border-t border-slate-100">
                            <a href="#" class="text-xs text-slate-400 hover:text-indigo-600 flex items-center transition-colors">
                                Back to Top
                            </a>
                        </div>
                    </div>
                </aside>
            </div>
        </section>


    </div>


        <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-12">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-slate-400 text-sm">
                &copy; 2023-2025 I ant I Investigates. All rights reserved.
            </p>
        </div>
    </footer>
        <!-- ========================================== -->
    <!-- 1. DATA & LOGIC INJECTION                  -->
    <!-- ========================================== -->
    <script>
        window.IndicatorLogic = {
            name: "BandWidth",
            params: [],
            calculate: null
        };
        (function() {
            try {
                const injectedCode = `
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 20;
                const multiplier = params.multiplier || 2.0;
                const result = BandWidth.calculate(data, period, multiplier);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
        `;
                const isTemplatePlaceholder = injectedCode.includes('{{') && injectedCode.includes('CODE_INDICATOR_LOGIC');
                if (injectedCode && injectedCode.trim().length > 0 && !isTemplatePlaceholder) {
                    new Function(injectedCode)();
                } else {
                    console.warn("Playground Logic: Running in Preview/Fallback mode.");
                    window.IndicatorLogic.calculate = () => []; 
                }
            } catch (e) {
                console.error("Critical Error in Logic Injection:", e);
                window.IndicatorLogic.calculate = () => [];
            }
        })();
    </script>

    <!-- ========================================== -->
    <!-- 2. VISUALIZATION ENGINE                    -->
    <!-- ========================================== -->
    <script>
        mermaid.initialize({ startOnLoad: false, theme: 'neutral', securityLevel: 'loose' });
    </script>
    <!-- ========================================== -->
    <!-- 3. UI CONTROLLERS & APP INITIALIZATION     -->
    <!-- ========================================== -->
    <!-- INLINE UI CONTROLLERS (PORTED FROM 0117) -->
    <script src="../assets/js/BandWidth.js"></script>
    <!-- JSON Data Containers (XSS-safe) -->
    <script id="data-indicator-config" type="application/json">
[{"id": "period", "label": "Period (20)", "type": "number", "value": 20, "min": 2, "max": 100}, {"id": "multiplier", "label": "Multiplier (2.0)", "type": "number", "value": 2.0, "min": 0.5, "max": 5.0, "step": 0.1}]
    </script>
    <script id="data-indicator-display" type="application/json">
{"isOverlay": true, "plots": {"main": {"label": "BandWidth", "color": "#4f46e5", "type": "line"}}}
    </script>
    <script>
        // --- 0. Indicator Data Injection ---
        // Use existing IndicatorLogic (set in earlier script block), only set if not exists
        var IndicatorLogic = window.IndicatorLogic || { calculate: null };
        var IndicatorConfig = [];
        var IndicatorDisplay = { isOverlay: false, plots: {} };

        // 1. Library Code - loaded externally before this block

        // 2. Configuration (XSS-safe via script type="application/json")
        try {
            var configEl = document.getElementById('data-indicator-config');
            if(configEl && configEl.textContent.trim()) {
                IndicatorConfig = JSON.parse(configEl.textContent);
            }
        } catch(e){ console.warn('Config parse error', e); }

        try {
            var displayEl = document.getElementById('data-indicator-display');
            if(displayEl && displayEl.textContent.trim()) {
                IndicatorDisplay = JSON.parse(displayEl.textContent);
            }
        } catch(e){ console.warn('Display parse error', e); }

        // 3. Logic Adapter
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 20;
                const multiplier = params.multiplier || 2.0;
                const result = BandWidth.calculate(data, period, multiplier);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
    </script>

    <!-- UI Controllers: indicator.js loads first to define PlaygroundController -->
    <script src="../assets/js/indicator.js" defer></script>
    <!-- script.js loads second, skips PlaygroundController if already defined -->
    <script src="../assets/js/script.js" defer></script>

</body>
</html>