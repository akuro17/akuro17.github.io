<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PointAndFigure - I ant I Investigates</title>
    <meta name="description" content="PointAndFigure - Technical Indicator">
    <meta name="keywords" content="PointAndFigure, technical indicator, stock analysis">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://iantinvestigates.com/indicators/pointandfigure.html">
    <!-- OGP (Open Graph Protocol) -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="PointAndFigure - I ant I Investigates">
    <meta property="og:description" content="PointAndFigure - Technical Indicator">
    <meta property="og:url" content="https://iantinvestigates.com/indicators/pointandfigure.html">
    <meta property="og:site_name" content="I ant I Investigates">
    <meta property="og:image" content="https://iantinvestigates.com/assets/images/ogp/pointandfigure.png">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PointAndFigure">
    <meta name="twitter:description" content="PointAndFigure - Technical Indicator">
    <meta name="twitter:image" content="https://iantinvestigates.com/assets/images/ogp/pointandfigure.png">
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    </script>
    <!-- Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/indicator.css">
    <!-- KaTeX (Math) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <!-- Libraries (defer for non-blocking load) -->
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <!-- Pygments Syntax Highlighting (Externalized) -->
    <link rel="stylesheet" href="../assets/css/pygments.css">

</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased relative">
        <!-- Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center mr-6">
                        <a href="../index.html" class="font-bold text-xl text-indigo-600">
                            I ant I Investigates
                        </a>
                    </div>
                    <!-- Breadcrumbs (Moved Here) -->
                    <nav class="flex text-sm text-slate-500 mr-8" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2">
                            <li><a href="../index.html" class="hover:text-indigo-600 transition-colors">home</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><a href="./" class="hover:text-indigo-600 transition-colors">indicators</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><span class="font-medium text-slate-900">PointAndFigure</span></li>
                        </ol>
                    </nav>

                    <!-- Page Top Nav (Anchor Links) -->
                    <div class="flex space-x-4 items-center">
                        <a href="#interactive-playground" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Chart
                        </a>
                        <a href="#logic-visualization" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Logic
                        </a>
                        <a href="#documentation" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Docs
                        </a>
                    </div>
                </div>
                <!-- External Links Placeholder -->
                <div class="hidden sm:flex items-center">
                </div>
            </div>
        </div>
    </nav>
    <!-- Main Container: 1-Column Stack -->
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">
        <!-- ======================================================= -->
        <!-- TOP SECTION: CONTEXT & PLAYGROUND                       -->
        <!-- ======================================================= -->
        <div class="flex flex-col gap-6">
            <!-- Hero Header -->
            <header>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4 leading-tight">PointAndFigure</h1>
                <p class="text-lg text-slate-600 leading-relaxed">Point and Figure charting eliminates time entirely to focus solely on significant price movements, using columns of X's (rising prices) and O's (falling prices) to reveal pure supply and demand dynamics.</p>
            </header>

            <!-- Interactive Playground -->
            <section id="interactive-playground" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
                <div class="border-b border-slate-200 bg-indigo-50 px-6 py-4">
                    <h2 class="text-lg font-bold text-slate-800 flex items-center">
                        <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">C</span>
                        Calculator
                    </h2>
                    <p class="text-sm text-slate-600 mt-2">Calculate indicator values from your price data.</p>
                </div>
                <div class="p-6">
                    <!-- Chart Area -->
                    <div class="relative h-[400px] w-full mb-6 border border-slate-100 rounded bg-slate-50">
                        <canvas id="indicatorChart"></canvas>
                    </div>

                    <!-- Controls Area -->
                    <div id="controls" class="grid grid-cols-1 md:grid-cols-3 gap-6 bg-slate-50 p-4 rounded border border-slate-200">
                        <!-- Parameters -->
                        <div class="md:col-span-1 space-y-4">
                            <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide border-b border-slate-200 pb-2">Parameters</h3>
                            <div id="settings-container">
                                <div class="space-y-3">
                                    <!-- Dynamic settings will be injected here -->
                                </div>
                            </div>
                            <button id="btn-run" onclick="PlaygroundController.update()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition-colors shadow-sm flex items-center justify-center">
                                Calculate
                            </button>
                        </div>

                        <!-- Data I/O -->
                        <div class="md:col-span-2 space-y-4">
                            <!-- Input -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Input Data (CSV)</h3>
                                    <div class="flex space-x-2">
                                        <button id="btn-load-sample-ohlcv" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load OHLCV Sample Data">Shape (OHLCV)</button>
                                        <span class="text-slate-300">|</span>
                                        <button id="btn-load-sample-single" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load Single Value Sample Data">Single</button>
                                    </div>
                                </div>
                                <p class="text-xs text-slate-500">Enter CSV data (Date,Open,High,Low,Close,Volume) or single values.</p>
                                <textarea id="input-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded focus:ring-2 focus:ring-indigo-500 transition-shadow" placeholder="e.g. 100.5, 101.2, 99.8, 102.3, 103.1...

or one per line:
100.5
101.2
99.8"></textarea>
                            </div>
                            <!-- Output (Enabled) -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Output Data (Result)</h3>
                                </div>
                                <textarea id="output-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded bg-slate-100 text-slate-600" readonly placeholder="Calculation results will appear here..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ======================================================= -->
        <!-- MIDDLE SECTION: LOGIC & ARCHITECTURE (PORTED FROM 0117) -->
        <!-- ======================================================= -->
        <section id="logic-visualization" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Section Header (Styled like Playground) -->
            <div class="border-b border-slate-200 bg-emerald-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-800 flex items-center">
                    <span class="bg-emerald-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">L</span>
                    Logic & Code Architecture
                </h2>
                <p class="text-sm text-slate-600 mt-2">Visual flowchart showing how the indicator processes data.</p>
            </div>

            <!-- LOGIC FIGURE STRUCTURE -->
            <figure class="logic-figure" style="border: none; border-radius: 0;">
                <!-- 1. Code Panel Toggle Button -->
                <button id="code-panel-toggle-btn" onclick="toggleCodePanel()" title="View Source Code" class="font-bold text-xs">
                    CODE
                </button>

                <!-- 2. Infinite Canvas Layer -->
                <div id="canvas-container" class="chart-scroll-wrapper" 
                     tabindex="0"
                     role="application"
                     aria-label="フローチャート操作エリア。矢印キーで移動、+/-でズーム、Rでリセット">
                    <div id="canvas-content" class="mermaid" style="position: absolute; top:0; left:0;">
                        flowchart TD;
subgraph INGESTION["Phase 1: Ingestion"];
A[/"Receive Price Data Stream"/];
B["Define Box Size and Reversal"];
C["Normalize Price Movements"];
end;
subgraph EVALUATION["Phase 2: Evaluation"];
D["Filter Minor Fluctuations"];
E["Detect Significant Moves"];
F["Classify Trend Direction"];
end;
subgraph WEIGHTING["Phase 3: Weighting"];
G["Build X Columns on Rising Prices"];
H["Build O Columns on Falling Prices"];
I["Trigger Reversals on Threshold"];
end;
subgraph SYNTHESIS["Phase 4: Synthesis"];
J["Track Support/Resistance Levels"];
K["Identify Pattern Formations"];
L["Calculate Price Targets"];
end;
subgraph OUTCOME["Phase 5: Outcome"];
M{"Pattern Assessment?"};
N["Double Top Breakout = Bullish"];
O["Double Bottom Breakdown = Bearish"];
P["Triple Formation = Strong Signal"];
Q[/"Generate Supply/Demand Signal"/];
end;
A --> B;
B --> C;
C --> D;
D --> E;
E --> F;
F --> G;
G --> H;
H --> I;
I --> J;
J --> K;
K --> L;
L --> M;
M -->|Bullish| N;
M -->|Bearish| O;
M -->|Confirmed| P;
N --> Q;
O --> Q;
P --> Q;
style INGESTION fill:#e3f2fd;
style EVALUATION fill:#fff3e0;
style WEIGHTING fill:#e8f5e9;
style SYNTHESIS fill:#fce4ec;
style OUTCOME fill:#f3e5f5;
                    </div>
                </div>

                <!-- 3. Canvas Controls (Zoom) -->
                <div class="absolute top-4 right-4 flex flex-col gap-2 z-20">
                    <button onclick="if(window.resetView) window.resetView()" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Reset View">R</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('in')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom In">+</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('out')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom Out">-</button>
                </div>

                <!-- 4. Code Panel Overlay (Slide-in) -->
                <div id="code-panel-overlay" class="panel-hidden" onmousedown="event.stopPropagation();">
                    <!-- Header -->
                    <div class="flex justify-between items-center p-3 border-b border-slate-200 bg-slate-50 shrink-0">
                        <div class="flex gap-2">
                            <button id="btn-lang-csharp" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('csharp')">C#</button>
                            <button id="btn-lang-python" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('python')">Python</button>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="btn-type-simple" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('simple')">Simple</button>
                            <button id="btn-type-detailed" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('detailed')">Detailed</button>
                            <!-- Copy -->
                            <button id="btn-copy-code" class="ml-2 text-slate-500 hover:text-slate-800 transition-colors" onclick="copyCode()" title="Copy Code">
                                <svg id="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                <svg id="icon-copy-done" class="hidden text-green-600" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </button>
                            <!-- Expand/Collapse -->
                            <button id="btn-panel-expand" class="text-slate-500 hover:text-slate-800 transition-colors" onclick="toggleExpand()" title="Toggle Width">
                                <svg id="icon-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 3h6v6" /><path d="M9 21H3v-6" /><path d="M21 3l-7 7" /><path d="M3 21l7-7" />
                                </svg>
                                <svg id="icon-collapse" class="hidden" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 14h6v6" /><path d="M20 10h-6V4" /><path d="M14 10l7-7" /><path d="M10 14l-7 7" />
                                </svg>
                            </button>
                            <!-- Close -->
                            <button class="text-slate-500 hover:text-red-600 transition-colors" onclick="toggleCodePanel()" title="Close Panel">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <!-- Body -->
                    <div class="code-panel-body custom-scrollbar p-4" 
                         id="code-panel-body"
                         data-code-src="../data/codes/PointAndFigure.js">
                        <!-- Loading indicator -->
                        <div id="code-loading" class="hidden absolute inset-0 flex items-center justify-center bg-white/80 z-10">
                            <span class="text-slate-400 text-sm">Loading code...</span>
                        </div>
                        <!-- Code containers (populated via JS fetch) -->
                        <div id="code-csharp-simple" class="code-content hidden"></div>
                        <div id="code-csharp-detailed" class="code-content hidden"></div>
                        <div id="code-python-simple" class="code-content hidden"></div>
                        <div id="code-python-detailed" class="code-content hidden"></div>
                    </div>
                </div>
            </figure>

            <!-- Legend (5-Step Model) -->
            <div class="logic-legend">
                <div class="legend-item"><span class="legend-dot l-ingestion"></span>Ingestion</div>
                <div class="legend-item"><span class="legend-dot l-evaluation"></span>Evaluation</div>
                <div class="legend-item"><span class="legend-dot l-weighting"></span>Weighting</div>
                <div class="legend-item"><span class="legend-dot l-synthesis"></span>Synthesis</div>
                <div class="legend-item"><span class="legend-dot l-outcome"></span>Outcome</div>
                <div class="text-xs text-slate-500 ml-auto">Keyboard: Arrows(pan) / +-(zoom) / R(reset)</div>
            </div>
        </section>

        <!-- ======================================================= -->
        <!-- BOTTOM SECTION: DOCS & TOC                              -->
        <!-- ======================================================= -->
        <section id="documentation" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Documentation Header -->
            <div class="border-b border-orange-200 bg-orange-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-900 flex items-center">
                    <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">D</span>
                    Technical Documentation
                </h2>
                <p class="text-slate-600 text-xs mt-1 ml-9">
                    Detailed technical explanation of the indicator's logic, math, and implementation details.
                </p>
            </div>
            <!-- Content Body -->
            <div class="p-6 flex flex-col lg:flex-row gap-12">
                <!-- Left: Article -->
                <article class="flex-1 min-w-0">
                    <div class="prose prose-slate max-w-none prose-headings:scroll-mt-24 prose-headings:font-bold prose-h2:text-2xl prose-h2:border-b prose-h2:pb-2 prose-h2:mt-8 prose-a:text-indigo-600 hover:prose-a:text-indigo-800">
                        <h1 id="point-and-figure-p&f">Point and Figure (P&F)</h1>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 1: MAIN GUIDE</h2></p>

<h2 id="1-identity">1. Identity</h2>

<p class="mb-4">Full Name: Point and Figure Chart  </p>
<p class="mb-4">Abbreviation: P&F, PnF  </p>
<p class="mb-4">Category: Non-Time-Series Chart / Price Filter  </p>
<p class="mb-4">Creator: "Hoyle" (1898), formalized by Victor Devilliers (1933), popularized by A.W. Cohen (1947)  </p>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">One-Sentence Definition: Point and Figure charting eliminates time entirely to focus solely on significant price movements, using columns of X's (rising prices) and O's (falling prices) to reveal pure supply and demand dynamics.</blockquote>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-calculation-logic">2. Calculation Logic</h2>

<h3 id="construction-rules">Construction Rules</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Parameter</td><td class="px-4 py-2 border-b border-[#2a2e39]">Meaning</td><td class="px-4 py-2 border-b border-[#2a2e39]">Default</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Box Size</td><td class="px-4 py-2 border-b border-[#2a2e39]">Minimum price move to add a new X or O</td><td class="px-4 py-2 border-b border-[#2a2e39]">$1.00 or ATR(20)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Reversal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Number of boxes needed to start new column</td><td class="px-4 py-2 border-b border-[#2a2e39]">3 boxes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Column Type</td><td class="px-4 py-2 border-b border-[#2a2e39]">X = Rising, O = Falling</td><td class="px-4 py-2 border-b border-[#2a2e39]">Alternates</td></tr>
</table></div>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Step</td><td class="px-4 py-2 border-b border-[#2a2e39]">Action</td><td class="px-4 py-2 border-b border-[#2a2e39]">Purpose</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">1</td><td class="px-4 py-2 border-b border-[#2a2e39]">Round price to box size</td><td class="px-4 py-2 border-b border-[#2a2e39]">Normalize movements</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">2</td><td class="px-4 py-2 border-b border-[#2a2e39]">If same direction: extend column</td><td class="px-4 py-2 border-b border-[#2a2e39]">Continue trend</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">3</td><td class="px-4 py-2 border-b border-[#2a2e39]">If reversal ≥ N boxes: start new column</td><td class="px-4 py-2 border-b border-[#2a2e39]">Filter noise</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">4</td><td class="px-4 py-2 border-b border-[#2a2e39]">Record column direction, top, bottom</td><td class="px-4 py-2 border-b border-[#2a2e39]">Track structure</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">5</td><td class="px-4 py-2 border-b border-[#2a2e39]">Alternate X/O columns</td><td class="px-4 py-2 border-b border-[#2a2e39]">Visual clarity</td></tr>
</table></div>

<h3 id="mathematical-formula">Mathematical Formula</h3>

<p class="mb-4">Continue Uptrend (X Column):</p>
<p class="mb-4">$$\text{If } High_{new} > CurrentTop + BoxSize \rightarrow \text{Add X's to } High_{new}$$</p>

<p class="mb-4">Reversal to Downtrend (X → O):</p>
<p class="mb-4">$$\text{If } Low_{new} < CurrentTop - (BoxSize \times Reversal) \rightarrow \text{Start O Column}$$</p>

<h3 id="real-world-analogy">Real-World Analogy</h3>

<p class="mb-4">Think of P&F like a step counter that only counts forward or backward. Small movements (steps less than the box size) are ignored. You only record a step when you move a significant distance. And you only "turn around" when you take multiple steps in the opposite direction. This filters out fidgeting and captures true directional commitment.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-market-standards">3. Market Standards</h2>

<h3 id="default-parameters">Default Parameters</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Parameter</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard Value</td><td class="px-4 py-2 border-b border-[#2a2e39]">Rationale</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Box Size</td><td class="px-4 py-2 border-b border-[#2a2e39]">ATR(20) or 1% of price</td><td class="px-4 py-2 border-b border-[#2a2e39]">Dynamic adaptation to volatility</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Reversal</td><td class="px-4 py-2 border-b border-[#2a2e39]">3-box</td><td class="px-4 py-2 border-b border-[#2a2e39]">Industry standard; filters minor noise</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Method</td><td class="px-4 py-2 border-b border-[#2a2e39]">High/Low</td><td class="px-4 py-2 border-b border-[#2a2e39]">More accurate than Close-only</td></tr>
</table></div>

<h3 id="alternative-settings">Alternative Settings</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Use Case</td><td class="px-4 py-2 border-b border-[#2a2e39]">Box Size</td><td class="px-4 py-2 border-b border-[#2a2e39]">Reversal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Effect</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Long-Term Investing</td><td class="px-4 py-2 border-b border-[#2a2e39]">3% of price</td><td class="px-4 py-2 border-b border-[#2a2e39]">3-box</td><td class="px-4 py-2 border-b border-[#2a2e39]">Major trends only</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Swing Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">1% or ATR(20)</td><td class="px-4 py-2 border-b border-[#2a2e39]">3-box</td><td class="px-4 py-2 border-b border-[#2a2e39]">Balanced approach</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Short-Term Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">0.5%</td><td class="px-4 py-2 border-b border-[#2a2e39]">2-box</td><td class="px-4 py-2 border-b border-[#2a2e39]">More signals, more noise</td></tr>
</table></div>

<h3 id="timeframe-recommendations">Timeframe Recommendations</h3>

<p class="mb-4">P&F is time-agnostic—it can work on any timeframe data but ignores time entirely:</p>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Data Source</td><td class="px-4 py-2 border-b border-[#2a2e39]">Notes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Daily OHLC</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard application</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Intraday (1H)</td><td class="px-4 py-2 border-b border-[#2a2e39]">More responsive; more columns</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Weekly OHLC</td><td class="px-4 py-2 border-b border-[#2a2e39]">Very long-term; few columns</td></tr>
</table></div>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-market-context">4. Market Context</h2>

<h3 id="best-conditions">Best Conditions</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Why It Works</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">Clear, unambiguous support/resistance levels</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Long-Term Trend Identification</td><td class="px-4 py-2 border-b border-[#2a2e39]">Removes time noise; shows pure direction</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price Target Calculation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Horizontal count method provides objective targets</td></tr>
</table></div>

<h3 id="limitations">Limitations</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Problem</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Scalping/Day Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">Charts may not update for hours</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Fast-Moving Markets</td><td class="px-4 py-2 border-b border-[#2a2e39]">Can't capture intraday nuances</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Fixed Box Size on Volatile Assets</td><td class="px-4 py-2 border-b border-[#2a2e39]">Too many or too few boxes</td></tr>
</table></div>

<h3 id="asset-class-suitability">Asset Class Suitability</h3>

<p class="mb-4">- Equities — Originally designed for stocks</p>
<p class="mb-4">- Indices — Excellent for major index trends</p>
<p class="mb-4">- Forex — Works but requires pip-based box sizes</p>
<p class="mb-4">- Crypto — Needs dynamic (ATR) box sizing due to volatility</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-entry-signals">5. Entry Signals</h2>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Signal Type</td><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Direction</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strength</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Double Top Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">X column exceeds previous X column high</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Double Bottom Breakdown</td><td class="px-4 py-2 border-b border-[#2a2e39]">O column falls below previous O column low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Triple Top Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">X column breaks above two previous X highs</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Very Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Catapult</td><td class="px-4 py-2 border-b border-[#2a2e39]">Triple breakout + pullback + double breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Very Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">45° Trendline Break</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price breaks bullish/bearish support line</td><td class="px-4 py-2 border-b border-[#2a2e39]">Reversal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
</table></div>

<h3 id="primary-buy-signal-double-top-breakout">Primary Buy Signal (Double Top Breakout)</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF Current_X_Column_High &gt; Previous_X_Column_High
AND Price above 45° Bullish Support Line
THEN → BUY (Demand overcame previous resistance)
</code></pre>

<h3 id="primary-sell-signal-double-bottom-breakdown">Primary Sell Signal (Double Bottom Breakdown)</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF Current_O_Column_Low &lt; Previous_O_Column_Low
AND Price below 45° Bearish Resistance Line
THEN → SELL/SHORT (Supply overcame previous support)
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="6-filter-usage">6. Filter Usage</h2>

<p class="mb-4">P&F charts provide structural filters that remove time-based noise from analysis.</p>

<h3 id="filter-rules">Filter Rules</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Rule</td><td class="px-4 py-2 border-b border-[#2a2e39]">Application</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">X Column Active</td><td class="px-4 py-2 border-b border-[#2a2e39]">Only consider long entries</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">O Column Active</td><td class="px-4 py-2 border-b border-[#2a2e39]">Only consider short entries</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Above 45° Bullish Line</td><td class="px-4 py-2 border-b border-[#2a2e39]">Uptrend; favor longs</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Below 45° Bearish Line</td><td class="px-4 py-2 border-b border-[#2a2e39]">Downtrend; favor shorts</td></tr>
</table></div>

<h3 id="recommended-pairings">Recommended Pairings</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Partner Indicator</td><td class="px-4 py-2 border-b border-[#2a2e39]">Synergy Logic</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Relative Strength Ratio</td><td class="px-4 py-2 border-b border-[#2a2e39]">P&F on RS identifies outperformers</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Volume Studies</td><td class="px-4 py-2 border-b border-[#2a2e39]">Confirm P&F breakouts with volume surge</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Time-Based Charts</td><td class="px-4 py-2 border-b border-[#2a2e39]">Use P&F for structure; candles for timing</td></tr>
</table></div>

<h3 id="example-combined-strategy">Example Combined Strategy</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
P&amp;F STRUCTURE:
&nbsp;&nbsp;Current X Column &gt; Previous X Column (Double Top Breakout)
&nbsp;&nbsp;Price above 45° Bullish Support Line
&nbsp;&nbsp;
RS P&amp;F CONFIRMATION:
&nbsp;&nbsp;Stock/Index RS Ratio in X Column (Outperforming)

ENTRY:
&nbsp;&nbsp;Enter on daily close confirmation
&nbsp;&nbsp;
TARGET:
&nbsp;&nbsp;Use Horizontal Count method for price projection
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="7-practical-cautions">7. Practical Cautions</h2>

<h3 id="lag-characteristics">Lag Characteristics</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Component</td><td class="px-4 py-2 border-b border-[#2a2e39]">Approximate Lag</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">First Column</td><td class="px-4 py-2 border-b border-[#2a2e39]">Immediate on first reversal</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pattern Recognition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Depends on volatility</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout Signal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Can lag time-based signals by days</td></tr>
</table></div>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">Reality Check: A P&F chart can stay on the same column for weeks during low volatility. This is a feature, not a bug—it filters noise—but don't expect frequent signals.</blockquote>

<h3 id="false-signal-scenarios">False Signal Scenarios</h3>

<p class="mb-4">1. Box Size Too Small  </p>
<p class="mb-4">   Creates excessive boxes on volatile assets, defeating the noise filter.</p>

<p class="mb-4">2. Box Size Too Large  </p>
<p class="mb-4">   Misses significant moves; chart appears static for months.</p>

<p class="mb-4">3. Floating Point Errors  </p>
<p class="mb-4">   Accumulating decimal errors can cause missed box boundaries.</p>

<h3 id="mitigation-strategies">Mitigation Strategies</h3>

<p class="mb-4">- Use ATR-Based Box Size: Automatically adapts to volatility</p>
<p class="mb-4">- Prefer Compound Patterns: Catapults > Double Tops</p>
<p class="mb-4">- Combine with Time-Based Analysis: P&F for structure; candles for entry</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="8-pro-insights">8. Pro Insights</h2>

<h3 id="the-horizontal-count-method">The Horizontal Count Method</h3>

<p class="mb-4">P&F provides objective price targets via the Horizontal Count:</p>

<p class="mb-4">$$Target = Start + (ColumnWidth \times BoxSize \times Reversal)$$</p>

<p class="mb-4">Count the number of columns in a congestion zone. Multiply by box size and reversal amount. Project vertically from breakout point. This is one of the few methods providing mathematically objective targets.</p>

<h3 id="relative-strength-p&f">Relative Strength P&F</h3>

<p class="mb-4">Maintain a P&F chart of the Relative Strength Ratio (Stock/Index):</p>
<p class="mb-4">- RS chart in X column = Stock outperforming</p>
<p class="mb-4">- RS chart in O column = Stock underperforming</p>

<p class="mb-4">Buy stocks with *both* Price P&F and RS P&F on buy signals (Dorsey's method).</p>

<h3 id="the-45-degree-trendline-rule">The 45-Degree Trendline Rule</h3>

<p class="mb-4">P&F trendlines are drawn at strict 45° angles:</p>
<p class="mb-4">- Bullish Support: Draw from lowest O column corner, rising at 45°</p>
<p class="mb-4">- Bearish Resistance: Draw from highest X column corner, falling at 45°</p>

<p class="mb-4">Price breaking below bullish support or above bearish resistance signals trend change.</p>

<h3 id="triple-formation-superiority">Triple Formation Superiority</h3>

<p class="mb-4">Triple formations (Triple Top Breakout, Triple Bottom Breakdown) are far more reliable than double formations:</p>
<p class="mb-4">- Double formations: ~58% success rate</p>
<p class="mb-4">- Triple formations: ~73% success rate</p>

<p class="mb-4">Wait for three failed attempts before the breakout for higher probability.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="9-summary">9. Summary</h2>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">"Point and Figure ignores time to reveal truth—stripping away the noise of when to expose the pure reality of what, delivering the clearest picture of supply, demand, and price structure in all of technical analysis."</blockquote>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 2: SUPPLEMENTARY GUIDE</h2></p>

<h2 id="1-core-concept">1. Core Concept</h2>

<p class="mb-4">P&F answers: "What is the market doing, stripped of all timing distractions?"</p>

<p class="mb-4">Most charts show price on Y-axis and time on X-axis. P&F eliminates time. The X-axis becomes a sequence of reversals, not days. A single column could represent 3 hours or 3 months—what matters is the price movement, not when it happened.</p>

<p class="mb-4">Construction logic:</p>
<p class="mb-4">- X Column: Price rising; new X added when price moves up one box</p>
<p class="mb-4">- O Column: Price falling; new O added when price moves down one box</p>
<p class="mb-4">- Reversal: Price must move opposite direction by N boxes to start new column</p>
<p class="mb-4">- No Time Axis: Columns represent reversals, not time periods</p>

<p class="mb-4">This creates a "noise filter" that removes meaningless fluctuations and reveals structural support/resistance with mathematical precision.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-statistical-edge">2. Statistical Edge</h2>

<h3 id="backtest-evidence">Backtest Evidence</h3>

<p class="mb-4">Studies on P&F patterns:</p>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pattern</td><td class="px-4 py-2 border-b border-[#2a2e39]">Success Rate</td><td class="px-4 py-2 border-b border-[#2a2e39]">Risk-Reward</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Double Top Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">58%</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.8:1</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Triple Top Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">73%</td><td class="px-4 py-2 border-b border-[#2a2e39]">2.2:1</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Catapult</td><td class="px-4 py-2 border-b border-[#2a2e39]">78%</td><td class="px-4 py-2 border-b border-[#2a2e39]">2.5:1</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">45° Trendline Break</td><td class="px-4 py-2 border-b border-[#2a2e39]">65%</td><td class="px-4 py-2 border-b border-[#2a2e39]">1.7:1</td></tr>
</table></div>

<h3 id="why-it-works">Why It Works</h3>

<p class="mb-4">The edge comes from noise elimination. By requiring significant moves (3-box reversal), P&F filters out:</p>
<p class="mb-4">- Intraday chop</p>
<p class="mb-4">- Weak rallies/selloffs</p>
<p class="mb-4">- News-driven spikes that reverse</p>

<p class="mb-4">What remains is committed directional movement—moves large enough to indicate true buyer/seller conviction.</p>

<h3 id="academic-reference">Academic Reference</h3>

<p class="mb-4">The technique dates to the late 1800s but was formalized by Victor Devilliers in *The Point and Figure Method of Anticipating Stock Price Movements* (1933) and refined by Thomas Dorsey in *Point and Figure Charting* (1995).</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-actionable-strategy">3. Actionable Strategy</h2>

<h3 id="strategy-name:-"dorsey's-relative-strength-buy"">Strategy Name: "Dorsey's Relative Strength Buy"</h3>

<p class="mb-4">Concept: Buy stocks showing P&F breakouts that are also outperforming the market.</p>

<p class="mb-4">Setup Requirements:</p>
<p class="mb-4">1. Stock Price P&F: Double Top Breakout (or higher)</p>
<p class="mb-4">2. RS Ratio P&F (Stock/SPY): In X column (outperforming)</p>
<p class="mb-4">3. RS P&F recently crossed above previous X column high</p>

<p class="mb-4">Entry Trigger:</p>
<p class="mb-4">- Stock price makes new X that exceeds previous X column high</p>
<p class="mb-4">- Confirm on daily close</p>

<p class="mb-4">Position Sizing:</p>
<p class="mb-4">- Full size for Triple Top + RS confirmation</p>
<p class="mb-4">- Half size for Double Top + RS confirmation</p>

<p class="mb-4">Exit Rules:</p>
<p class="mb-4">1. Stop: Price falls below the box that triggered entry</p>
<p class="mb-4">2. Trail: Drop O column low (update as new O columns form)</p>
<p class="mb-4">3. Target: Horizontal count projection</p>

<p class="mb-4">Example:</p>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
Stock AAPL P&amp;F:
&nbsp;&nbsp;Current X column top: $175
&nbsp;&nbsp;Previous X column top: $170
&nbsp;&nbsp;→ Double Top Breakout (Buy Signal)
&nbsp;&nbsp;
AAPL/SPY RS Ratio P&amp;F:
&nbsp;&nbsp;Currently in X column → Outperforming
&nbsp;&nbsp;
ENTRY: Buy at $175 on breakout
STOP: Below $167 (reversal would trigger O)
TARGET: Horizontal count = $190
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-risks-&-limitations">4. Risks & Limitations</h2>

<h3 id="failure-patterns">Failure Patterns</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pattern</td><td class="px-4 py-2 border-b border-[#2a2e39]">Description</td><td class="px-4 py-2 border-b border-[#2a2e39]">Mitigation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bull Trap</td><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout fails; price reverses immediately</td><td class="px-4 py-2 border-b border-[#2a2e39]">Wait for 3-box confirmation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Box Size Mismatch</td><td class="px-4 py-2 border-b border-[#2a2e39]">Fixed size doesn't fit asset's volatility</td><td class="px-4 py-2 border-b border-[#2a2e39]">Use ATR-based sizing</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Memory Overflow</td><td class="px-4 py-2 border-b border-[#2a2e39]">Tiny box size on volatile asset</td><td class="px-4 py-2 border-b border-[#2a2e39]">Cap minimum box size</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Timing Disconnect</td><td class="px-4 py-2 border-b border-[#2a2e39]">Great P&F signal; terrible time-based entry</td><td class="px-4 py-2 border-b border-[#2a2e39]">Combine with candle timing</td></tr>
</table></div>

<h3 id="psychological-traps">Psychological Traps</h3>

<p class="mb-4">1. The "It's Just One Box" Trap  </p>
<p class="mb-4">   Dismissing a reversal as minor when it's the start of a new trend.</p>

<p class="mb-4">2. Over-Complication  </p>
<p class="mb-4">   Adding time-based elements defeats P&F's purpose. Keep it pure.</p>

<p class="mb-4">3. Impatience  </p>
<p class="mb-4">   P&F may not update for days. That's the point—it's filtering noise.</p>

<h3 id="common-misinterpretations">Common Misinterpretations</h3>

<p class="mb-4">- "More boxes = stronger signal" → Pattern structure matters more than box count</p>
<p class="mb-4">- "P&F is outdated" → It's timeless because it ignores time</p>
<p class="mb-4">- "X column = buy, O column = sell" → Only column CHANGES (breakouts) are signals</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-further-study">5. Further Study</h2>

<h3 id="creator-attribution">Creator Attribution</h3>

<p class="mb-4">P&F origins trace to "Hoyle" (pseudonym) in 1898's *The Game in Wall Street*. Victor Devilliers formalized the methodology in 1933. A.W. Cohen popularized it mid-century. Thomas Dorsey modernized P&F for contemporary markets in his 1995 book.</p>

<h3 id="parent/child-indicators">Parent/Child Indicators</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Indicator</td><td class="px-4 py-2 border-b border-[#2a2e39]">Relationship</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Kagi Charts</td><td class="px-4 py-2 border-b border-[#2a2e39]">Related — Another non-time-series method</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Renko Charts</td><td class="px-4 py-2 border-b border-[#2a2e39]">Related — Fixed brick size; no reversal requirement</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Relative Strength</td><td class="px-4 py-2 border-b border-[#2a2e39]">Partner — RS P&F identifies outperformers</td></tr>
</table></div>

<h3 id="recommended-readings">Recommended Readings</h3>

<p class="mb-4">1. *Point and Figure Charting* — Thomas Dorsey</p>
<p class="mb-4">2. *The Point and Figure Method* — Victor Devilliers</p>
<p class="mb-4">3. *The Definitive Guide to Point and Figure* — Jeremy du Plessis</p>

<hr class="border-[#2a2e39] my-8">

<h3 id="55-related-indicators-comparison">5.5 Related Indicators Comparison</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Feature</td><td class="px-4 py-2 border-b border-[#2a2e39]">Point & Figure</td><td class="px-4 py-2 border-b border-[#2a2e39]">Kagi</td><td class="px-4 py-2 border-b border-[#2a2e39]">Renko</td><td class="px-4 py-2 border-b border-[#2a2e39]">Candlestick</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Time Axis</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Noise Filter</td><td class="px-4 py-2 border-b border-[#2a2e39]">3-box reversal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Threshold amount</td><td class="px-4 py-2 border-b border-[#2a2e39]">Fixed brick</td><td class="px-4 py-2 border-b border-[#2a2e39]">None</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pattern Clarity</td><td class="px-4 py-2 border-b border-[#2a2e39]">High</td><td class="px-4 py-2 border-b border-[#2a2e39]">Medium</td><td class="px-4 py-2 border-b border-[#2a2e39]">Medium</td><td class="px-4 py-2 border-b border-[#2a2e39]">Medium</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price Targets</td><td class="px-4 py-2 border-b border-[#2a2e39]">Horizontal count</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">Fibonacci</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Best For</td><td class="px-4 py-2 border-b border-[#2a2e39]">S/R structure</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend reversals</td><td class="px-4 py-2 border-b border-[#2a2e39]">Trend following</td><td class="px-4 py-2 border-b border-[#2a2e39]">Entry timing</td></tr>
</table></div>

<p class="mb-4">When to Use Which:</p>
<p class="mb-4">- Point & Figure — Identify clear support/resistance and price targets</p>
<p class="mb-4">- Kagi — Quick visual trend identification</p>
<p class="mb-4">- Renko — Smooth trend-following with fixed bricks</p>
<p class="mb-4">- Candlestick — Entry timing and short-term patterns</p>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 3: ADVANCED SIGNAL REFERENCE</h2></p>

<h2 id="advanced-signal-reference">Advanced Signal Reference</h2>

<h3 id="threshold-matrix">Threshold Matrix</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Pattern Type</td><td class="px-4 py-2 border-b border-[#2a2e39]">Current Column</td><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Signal Strength</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Double Top Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">X</td><td class="px-4 py-2 border-b border-[#2a2e39]">X_High > Prev_X_High</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Triple Top Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">X</td><td class="px-4 py-2 border-b border-[#2a2e39]">X_High > 2 × Prev_X_High</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Double Bottom Breakdown</td><td class="px-4 py-2 border-b border-[#2a2e39]">O</td><td class="px-4 py-2 border-b border-[#2a2e39]">O_Low < Prev_O_Low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Triple Bottom Breakdown</td><td class="px-4 py-2 border-b border-[#2a2e39]">O</td><td class="px-4 py-2 border-b border-[#2a2e39]">O_Low < 2 × Prev_O_Low</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Catapult</td><td class="px-4 py-2 border-b border-[#2a2e39]">X</td><td class="px-4 py-2 border-b border-[#2a2e39]">Triple + Pullback + Double</td><td class="px-4 py-2 border-b border-[#2a2e39]">Very Strong</td></tr>
</table></div>

<h3 id="signal-patterns">Signal Patterns</h3>

<h4 id="buy-signal-double-top-breakout">Buy Signal (Double Top Breakout)</h4>
<p class="mb-4">This classic P&F pattern triggers when an X column exceeds the high of the previous X column, indicating demand has overcome the prior resistance level. The pattern shows buyers have regrouped and pushed through where sellers previously stopped the advance. Double Top breakouts have approximately 58% success rate, improving to 73% for Triple Top formations.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def pnf_buy_signal(columns):
&nbsp;&nbsp;&nbsp;&nbsp;if len(columns) &lt; 3:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return False
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;current = columns[-1]
&nbsp;&nbsp;&nbsp;&nbsp;prev_x_columns = [c for c in columns[:-1] if c.column_type == &#x27;X&#x27;]
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;if current.column_type != &#x27;X&#x27; or not prev_x_columns:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return False
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;prev_x_high = prev_x_columns[-1].top_price
&nbsp;&nbsp;&nbsp;&nbsp;double_top = current.top_price &gt; prev_x_high
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;return double_top
</code></pre>

<h4 id="sell-signal-double-bottom-breakdown">Sell Signal (Double Bottom Breakdown)</h4>
<p class="mb-4">This bearish pattern triggers when an O column falls below the low of the previous O column, confirming that supply has overwhelmed the prior support level. The pattern indicates sellers have pushed through where buyers previously absorbed selling pressure. Double Bottom breakdowns are the mirror image of Double Top breakouts and signal trend reversal or continuation of downtrends.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def pnf_sell_signal(columns):
&nbsp;&nbsp;&nbsp;&nbsp;if len(columns) &lt; 3:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return False
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;current = columns[-1]
&nbsp;&nbsp;&nbsp;&nbsp;prev_o_columns = [c for c in columns[:-1] if c.column_type == &#x27;O&#x27;]
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;if current.column_type != &#x27;O&#x27; or not prev_o_columns:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return False
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;prev_o_low = prev_o_columns[-1].bottom_price
&nbsp;&nbsp;&nbsp;&nbsp;double_bottom = current.bottom_price &lt; prev_o_low
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;return double_bottom
</code></pre>

<h4 id="catapult-pattern">Catapult Pattern</h4>
<p class="mb-4">The Catapult is the highest-probability P&F pattern, combining a Triple Top breakout followed by a pullback and subsequent Double Top breakout. This sequence confirms the trend with multiple tests and a successful retest after the initial breakout. Catapult patterns historically achieve 78% success rates with 2.5:1 risk-reward ratios.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def catapult_pattern(columns):
&nbsp;&nbsp;&nbsp;&nbsp;# Requires: Triple Top Breakout → Pullback (O) → Double Top Breakout
&nbsp;&nbsp;&nbsp;&nbsp;if len(columns) &lt; 7:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return False
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;# Check pattern sequence
&nbsp;&nbsp;&nbsp;&nbsp;triple_breakout = is_triple_top_breakout(columns[-6:-3])
&nbsp;&nbsp;&nbsp;&nbsp;pullback = columns[-2].column_type == &#x27;O&#x27;
&nbsp;&nbsp;&nbsp;&nbsp;double_breakout = is_double_top_breakout(columns[-1], columns[-3:-1])
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;return triple_breakout and pullback and double_breakout
</code></pre>

<h3 id="screening-filters">Screening Filters</h3>

<h4 id="double-top-breakout-scan">Double Top Breakout Scan</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
Pattern == &quot;Double Top&quot;
AND Current_Price &gt; Previous_X_Column_High
AND Trend_Line_45 == Bullish
</code></pre>

<h4 id="rs-outperformance-scan">RS Outperformance Scan</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
Stock_P&amp;F: In X Column (Rising)
AND RS_P&amp;F: In X Column (Outperforming)
AND RS_P&amp;F: Current X &gt; Previous X High
</code></pre>

<h4 id="triple-formation-scan">Triple Formation Scan</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
Current_X_Column exceeds TWO previous X_Column highs
AND Box_Count &gt;= 5
</code></pre>

<h3 id="combination-strategies">Combination Strategies</h3>

<h4 id="price-+-rs-dual-confirmation">Price + RS Dual Confirmation</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
FILTER:
&nbsp;&nbsp;Stock/Index RS Ratio P&amp;F in X column

ENTRY:
&nbsp;&nbsp;Stock Price P&amp;F triggers Double Top Breakout
&nbsp;&nbsp;
POSITION:
&nbsp;&nbsp;Full size if Triple Top + RS breakout
&nbsp;&nbsp;Half size if Double Top + RS in X
&nbsp;&nbsp;
EXIT:
&nbsp;&nbsp;Stock P&amp;F Double Bottom Breakdown
&nbsp;&nbsp;OR RS P&amp;F flips to O column
</code></pre>

<h4 id="horizontal-count-target">Horizontal Count Target</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
CALCULATE TARGET:
&nbsp;&nbsp;Count columns in base pattern (N)
&nbsp;&nbsp;Multiply: N × Box_Size × Reversal
&nbsp;&nbsp;Add to breakout point
&nbsp;&nbsp;
EXAMPLE:
&nbsp;&nbsp;Base = 5 columns
&nbsp;&nbsp;Box = $2, Reversal = 3
&nbsp;&nbsp;Breakout at $50
&nbsp;&nbsp;Target = $50 + (5 × $2 × 3) = $80
</code></pre>





                    </div>
                </article>
                <!-- Right: Sticky TOC -->
                <aside class="lg:block w-64 flex-shrink-0">
                    <div class="sticky top-24">
                        <h3 class="font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100 text-sm uppercase tracking-wider">
                            On this page
                        </h3>
                        <nav id="toc-nav" class="space-y-1 text-sm text-slate-600">
                            <a href="#1-identity" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Identity</a>
<a href="#2-calculation-logic" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Calculation Logic</a>
<a href="#construction-rules" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Construction Rules</a>
<a href="#mathematical-formula" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Mathematical Formula</a>
<a href="#real-world-analogy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Real-World Analogy</a>
<a href="#3-market-standards" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Market Standards</a>
<a href="#default-parameters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Default Parameters</a>
<a href="#alternative-settings" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Alternative Settings</a>
<a href="#timeframe-recommendations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Timeframe Recommendations</a>
<a href="#4-market-context" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Market Context</a>
<a href="#best-conditions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Best Conditions</a>
<a href="#limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Limitations</a>
<a href="#asset-class-suitability" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Asset Class Suitability</a>
<a href="#5-entry-signals" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Entry Signals</a>
<a href="#primary-buy-signal-double-top-breakout" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Primary Buy Signal (Double Top Breakout)</a>
<a href="#primary-sell-signal-double-bottom-breakdown" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Primary Sell Signal (Double Bottom Breakdown)</a>
<a href="#6-filter-usage" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">6. Filter Usage</a>
<a href="#filter-rules" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Filter Rules</a>
<a href="#recommended-pairings" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Recommended Pairings</a>
<a href="#example-combined-strategy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Example Combined Strategy</a>
<a href="#7-practical-cautions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">7. Practical Cautions</a>
<a href="#lag-characteristics" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Lag Characteristics</a>
<a href="#false-signal-scenarios" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">False Signal Scenarios</a>
<a href="#mitigation-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Mitigation Strategies</a>
<a href="#8-pro-insights" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">8. Pro Insights</a>
<a href="#the-horizontal-count-method" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">The Horizontal Count Method</a>
<a href="#relative-strength-p&f" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Relative Strength P&F</a>
<a href="#the-45-degree-trendline-rule" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">The 45-Degree Trendline Rule</a>
<a href="#triple-formation-superiority" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Triple Formation Superiority</a>
<a href="#9-summary" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">9. Summary</a>
<a href="#1-core-concept" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Core Concept</a>
<a href="#2-statistical-edge" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Statistical Edge</a>
<a href="#backtest-evidence" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Backtest Evidence</a>
<a href="#why-it-works" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Why It Works</a>
<a href="#academic-reference" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Academic Reference</a>
<a href="#3-actionable-strategy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Actionable Strategy</a>
<a href="#strategy-name:-"dorsey's-relative-strength-buy"" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Strategy Name: "Dorsey's Relative Strength Buy"</a>
<a href="#4-risks-&-limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Risks & Limitations</a>
<a href="#failure-patterns" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Failure Patterns</a>
<a href="#psychological-traps" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Psychological Traps</a>
<a href="#common-misinterpretations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Common Misinterpretations</a>
<a href="#5-further-study" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Further Study</a>
<a href="#creator-attribution" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Creator Attribution</a>
<a href="#parent/child-indicators" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Parent/Child Indicators</a>
<a href="#recommended-readings" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Recommended Readings</a>
<a href="#55-related-indicators-comparison" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">5.5 Related Indicators Comparison</a>
<a href="#advanced-signal-reference" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">Advanced Signal Reference</a>
<a href="#threshold-matrix" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Threshold Matrix</a>
<a href="#signal-patterns" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Signal Patterns</a>
<a href="#screening-filters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Screening Filters</a>
<a href="#combination-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Combination Strategies</a>

                        </nav>
                        <div class="mt-8 pt-4 border-t border-slate-100">
                            <a href="#" class="text-xs text-slate-400 hover:text-indigo-600 flex items-center transition-colors">
                                Back to Top
                            </a>
                        </div>
                    </div>
                </aside>
            </div>
        </section>


    </div>


        <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-12">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-slate-400 text-sm">
                &copy; 2023-2025 I ant I Investigates. All rights reserved.
            </p>
        </div>
    </footer>
        <!-- ========================================== -->
    <!-- 1. DATA & LOGIC INJECTION                  -->
    <!-- ========================================== -->
    <script>
        window.IndicatorLogic = {
            name: "PointAndFigure",
            params: [],
            calculate: null
        };
        (function() {
            try {
                const injectedCode = `
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 14;
                const result = PointAndFigure.calculate(data, period);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
        `;
                const isTemplatePlaceholder = injectedCode.includes('{{') && injectedCode.includes('CODE_INDICATOR_LOGIC');
                if (injectedCode && injectedCode.trim().length > 0 && !isTemplatePlaceholder) {
                    new Function(injectedCode)();
                } else {
                    console.warn("Playground Logic: Running in Preview/Fallback mode.");
                    window.IndicatorLogic.calculate = () => []; 
                }
            } catch (e) {
                console.error("Critical Error in Logic Injection:", e);
                window.IndicatorLogic.calculate = () => [];
            }
        })();
    </script>

    <!-- ========================================== -->
    <!-- 2. VISUALIZATION ENGINE                    -->
    <!-- ========================================== -->
    <script>
        mermaid.initialize({ startOnLoad: false, theme: 'neutral', securityLevel: 'loose' });
    </script>
    <!-- ========================================== -->
    <!-- 3. UI CONTROLLERS & APP INITIALIZATION     -->
    <!-- ========================================== -->
    <!-- INLINE UI CONTROLLERS (PORTED FROM 0117) -->
    <script src="../assets/js/PointAndFigure.js"></script>
    <!-- JSON Data Containers (XSS-safe) -->
    <script id="data-indicator-config" type="application/json">
[{"id": "period", "label": "Period (14)", "type": "number", "value": 14, "min": 2, "max": 100}]
    </script>
    <script id="data-indicator-display" type="application/json">
{"isOverlay": true, "plots": {"main": {"label": "PointAndFigure", "color": "#4f46e5", "type": "line"}}}
    </script>
    <script>
        // --- 0. Indicator Data Injection ---
        // Use existing IndicatorLogic (set in earlier script block), only set if not exists
        var IndicatorLogic = window.IndicatorLogic || { calculate: null };
        var IndicatorConfig = [];
        var IndicatorDisplay = { isOverlay: false, plots: {} };

        // 1. Library Code - loaded externally before this block

        // 2. Configuration (XSS-safe via script type="application/json")
        try {
            var configEl = document.getElementById('data-indicator-config');
            if(configEl && configEl.textContent.trim()) {
                IndicatorConfig = JSON.parse(configEl.textContent);
            }
        } catch(e){ console.warn('Config parse error', e); }

        try {
            var displayEl = document.getElementById('data-indicator-display');
            if(displayEl && displayEl.textContent.trim()) {
                IndicatorDisplay = JSON.parse(displayEl.textContent);
            }
        } catch(e){ console.warn('Display parse error', e); }

        // 3. Logic Adapter
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 14;
                const result = PointAndFigure.calculate(data, period);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
    </script>

    <!-- UI Controllers: indicator.js loads first to define PlaygroundController -->
    <script src="../assets/js/indicator.js" defer></script>
    <!-- script.js loads second, skips PlaygroundController if already defined -->
    <script src="../assets/js/script.js" defer></script>

</body>
</html>