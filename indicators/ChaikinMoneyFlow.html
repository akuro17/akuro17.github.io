<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChaikinMoneyFlow - I ant I Investigates</title>
    <meta name="description" content="ChaikinMoneyFlow - Technical Indicator">
    <meta name="keywords" content="ChaikinMoneyFlow, technical indicator, stock analysis">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://iantinvestigates.com/indicators/chaikinmoneyflow.html">
    <!-- OGP (Open Graph Protocol) -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="ChaikinMoneyFlow - I ant I Investigates">
    <meta property="og:description" content="ChaikinMoneyFlow - Technical Indicator">
    <meta property="og:url" content="https://iantinvestigates.com/indicators/chaikinmoneyflow.html">
    <meta property="og:site_name" content="I ant I Investigates">
    <meta property="og:image" content="https://iantinvestigates.com/assets/images/ogp/chaikinmoneyflow.png">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ChaikinMoneyFlow">
    <meta name="twitter:description" content="ChaikinMoneyFlow - Technical Indicator">
    <meta name="twitter:image" content="https://iantinvestigates.com/assets/images/ogp/chaikinmoneyflow.png">
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    </script>
    <!-- Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/indicator.css">
    <!-- KaTeX (Math) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <!-- Libraries (defer for non-blocking load) -->
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <!-- Pygments Syntax Highlighting (Externalized) -->
    <link rel="stylesheet" href="../assets/css/pygments.css">

</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased relative">
        <!-- Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center mr-6">
                        <a href="../index.html" class="font-bold text-xl text-indigo-600">
                            I ant I Investigates
                        </a>
                    </div>
                    <!-- Breadcrumbs (Moved Here) -->
                    <nav class="flex text-sm text-slate-500 mr-8" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2">
                            <li><a href="../index.html" class="hover:text-indigo-600 transition-colors">home</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><a href="./" class="hover:text-indigo-600 transition-colors">indicators</a></li>
                            <li><span class="mx-1">/</span></li>
                            <li><span class="font-medium text-slate-900">ChaikinMoneyFlow</span></li>
                        </ol>
                    </nav>

                    <!-- Page Top Nav (Anchor Links) -->
                    <div class="flex space-x-4 items-center">
                        <a href="#interactive-playground" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Chart
                        </a>
                        <a href="#logic-visualization" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Logic
                        </a>
                        <a href="#documentation" class="text-slate-600 hover:text-indigo-600 px-3 py-2 text-sm font-medium transition-colors">
                            Docs
                        </a>
                    </div>
                </div>
                <!-- External Links Placeholder -->
                <div class="hidden sm:flex items-center">
                </div>
            </div>
        </div>
    </nav>
    <!-- Main Container: 1-Column Stack -->
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">
        <!-- ======================================================= -->
        <!-- TOP SECTION: CONTEXT & PLAYGROUND                       -->
        <!-- ======================================================= -->
        <div class="flex flex-col gap-6">
            <!-- Hero Header -->
            <header>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4 leading-tight">ChaikinMoneyFlow</h1>
                <p class="text-lg text-slate-600 leading-relaxed">Chaikin Money Flow measures buying and selling pressure over a period by calculating a volume-weighted average of where prices close within their daily range—positive values indicate accumulation (institutional buying), negative values indicate distribution (institutional selling).</p>
            </header>

            <!-- Interactive Playground -->
            <section id="interactive-playground" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
                <div class="border-b border-slate-200 bg-indigo-50 px-6 py-4">
                    <h2 class="text-lg font-bold text-slate-800 flex items-center">
                        <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">C</span>
                        Calculator
                    </h2>
                    <p class="text-sm text-slate-600 mt-2">Calculate indicator values from your price data.</p>
                </div>
                <div class="p-6">
                    <!-- Chart Area -->
                    <div class="relative h-[400px] w-full mb-6 border border-slate-100 rounded bg-slate-50">
                        <canvas id="indicatorChart"></canvas>
                    </div>

                    <!-- Controls Area -->
                    <div id="controls" class="grid grid-cols-1 md:grid-cols-3 gap-6 bg-slate-50 p-4 rounded border border-slate-200">
                        <!-- Parameters -->
                        <div class="md:col-span-1 space-y-4">
                            <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide border-b border-slate-200 pb-2">Parameters</h3>
                            <div id="settings-container">
                                <div class="space-y-3">
                                    <!-- Dynamic settings will be injected here -->
                                </div>
                            </div>
                            <button id="btn-run" onclick="PlaygroundController.update()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition-colors shadow-sm flex items-center justify-center">
                                Calculate
                            </button>
                        </div>

                        <!-- Data I/O -->
                        <div class="md:col-span-2 space-y-4">
                            <!-- Input -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Input Data (CSV)</h3>
                                    <div class="flex space-x-2">
                                        <button id="btn-load-sample-ohlcv" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load OHLCV Sample Data">Shape (OHLCV)</button>
                                        <span class="text-slate-300">|</span>
                                        <button id="btn-load-sample-single" class="text-xs text-indigo-600 hover:text-indigo-800 hover:underline transition-colors" title="Load Single Value Sample Data">Single</button>
                                    </div>
                                </div>
                                <p class="text-xs text-slate-500">Enter CSV data (Date,Open,High,Low,Close,Volume) or single values.</p>
                                <textarea id="input-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded focus:ring-2 focus:ring-indigo-500 transition-shadow" placeholder="e.g. 100.5, 101.2, 99.8, 102.3, 103.1...

or one per line:
100.5
101.2
99.8"></textarea>
                            </div>
                            <!-- Output (Enabled) -->
                            <div class="space-y-2">
                                <div class="flex justify-between items-center pb-2 border-b border-slate-200">
                                    <h3 class="font-bold text-sm text-slate-700 uppercase tracking-wide">Output Data (Result)</h3>
                                </div>
                                <textarea id="output-data" class="w-full h-24 p-2 text-xs font-mono border border-slate-300 rounded bg-slate-100 text-slate-600" readonly placeholder="Calculation results will appear here..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- ======================================================= -->
        <!-- MIDDLE SECTION: LOGIC & ARCHITECTURE (PORTED FROM 0117) -->
        <!-- ======================================================= -->
        <section id="logic-visualization" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Section Header (Styled like Playground) -->
            <div class="border-b border-slate-200 bg-emerald-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-800 flex items-center">
                    <span class="bg-emerald-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">L</span>
                    Logic & Code Architecture
                </h2>
                <p class="text-sm text-slate-600 mt-2">Visual flowchart showing how the indicator processes data.</p>
            </div>

            <!-- LOGIC FIGURE STRUCTURE -->
            <figure class="logic-figure" style="border: none; border-radius: 0;">
                <!-- 1. Code Panel Toggle Button -->
                <button id="code-panel-toggle-btn" onclick="toggleCodePanel()" title="View Source Code" class="font-bold text-xs">
                    CODE
                </button>

                <!-- 2. Infinite Canvas Layer -->
                <div id="canvas-container" class="chart-scroll-wrapper" 
                     tabindex="0"
                     role="application"
                     aria-label="フローチャート操作エリア。矢印キーで移動、+/-でズーム、Rでリセット">
                    <div id="canvas-content" class="mermaid" style="position: absolute; top:0; left:0;">
                        flowchart TD;
subgraph INGESTION["Phase 1: Ingestion"];
A[/"Receive OHLCV Data"/];
B["Capture Volume and Close Location"];
end;
subgraph EVALUATION["Phase 2: Evaluation"];
C["Assess Where Price Closed in Range"];
D{"Close Near High or Low?"};
E["Buyers Dominated This Session"];
F["Sellers Dominated This Session"];
end;
subgraph WEIGHTING["Phase 3: Weighting"];
G["Weight by Trading Volume"];
H["Accumulate Over Lookback Period"];
end;
subgraph SYNTHESIS["Phase 4: Synthesis"];
I["Average Weighted Money Flow"];
J["Normalize to -1 to +1 Scale"];
end;
subgraph OUTCOME["Phase 5: Outcome"];
K{"Net Flow Direction?"};
L["Positive - Institutional Accumulation"];
M["Negative - Institutional Distribution"];
N[/"Generate CMF Signal"/];
end;
A --> B;
B --> C;
C --> D;
D -->|Near High| E;
D -->|Near Low| F;
E --> G;
F --> G;
G --> H;
H --> I;
I --> J;
J --> K;
K -->|Positive| L;
K -->|Negative| M;
L --> N;
M --> N;
style INGESTION fill:#e3f2fd;
style EVALUATION fill:#fff3e0;
style WEIGHTING fill:#e8f5e9;
style SYNTHESIS fill:#fce4ec;
style OUTCOME fill:#f3e5f5;
                    </div>
                </div>

                <!-- 3. Canvas Controls (Zoom) -->
                <div class="absolute top-4 right-4 flex flex-col gap-2 z-20">
                    <button onclick="if(window.resetView) window.resetView()" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Reset View">R</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('in')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom In">+</button>
                    <button onclick="if(window.zoomAction) window.zoomAction('out')" class="p-2 bg-white rounded shadow border border-slate-200 hover:bg-slate-50 text-slate-600 font-mono text-xs" title="Zoom Out">-</button>
                </div>

                <!-- 4. Code Panel Overlay (Slide-in) -->
                <div id="code-panel-overlay" class="panel-hidden" onmousedown="event.stopPropagation();">
                    <!-- Header -->
                    <div class="flex justify-between items-center p-3 border-b border-slate-200 bg-slate-50 shrink-0">
                        <div class="flex gap-2">
                            <button id="btn-lang-csharp" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('csharp')">C#</button>
                            <button id="btn-lang-python" class="px-2 py-1 text-xs rounded transition-colors text-slate-500 hover:bg-slate-100" onclick="setLang('python')">Python</button>
                        </div>
                        <div class="flex items-center gap-2">
                            <button id="btn-type-simple" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('simple')">Simple</button>
                            <button id="btn-type-detailed" class="text-xs text-slate-500 hover:text-indigo-600 transition-colors" onclick="setType('detailed')">Detailed</button>
                            <!-- Copy -->
                            <button id="btn-copy-code" class="ml-2 text-slate-500 hover:text-slate-800 transition-colors" onclick="copyCode()" title="Copy Code">
                                <svg id="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                <svg id="icon-copy-done" class="hidden text-green-600" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </button>
                            <!-- Expand/Collapse -->
                            <button id="btn-panel-expand" class="text-slate-500 hover:text-slate-800 transition-colors" onclick="toggleExpand()" title="Toggle Width">
                                <svg id="icon-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 3h6v6" /><path d="M9 21H3v-6" /><path d="M21 3l-7 7" /><path d="M3 21l7-7" />
                                </svg>
                                <svg id="icon-collapse" class="hidden" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 14h6v6" /><path d="M20 10h-6V4" /><path d="M14 10l7-7" /><path d="M10 14l-7 7" />
                                </svg>
                            </button>
                            <!-- Close -->
                            <button class="text-slate-500 hover:text-red-600 transition-colors" onclick="toggleCodePanel()" title="Close Panel">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <!-- Body -->
                    <div class="code-panel-body custom-scrollbar p-4" 
                         id="code-panel-body"
                         data-code-src="../data/codes/ChaikinMoneyFlow.js">
                        <!-- Loading indicator -->
                        <div id="code-loading" class="hidden absolute inset-0 flex items-center justify-center bg-white/80 z-10">
                            <span class="text-slate-400 text-sm">Loading code...</span>
                        </div>
                        <!-- Code containers (populated via JS fetch) -->
                        <div id="code-csharp-simple" class="code-content hidden"></div>
                        <div id="code-csharp-detailed" class="code-content hidden"></div>
                        <div id="code-python-simple" class="code-content hidden"></div>
                        <div id="code-python-detailed" class="code-content hidden"></div>
                    </div>
                </div>
            </figure>

            <!-- Legend (5-Step Model) -->
            <div class="logic-legend">
                <div class="legend-item"><span class="legend-dot l-ingestion"></span>Ingestion</div>
                <div class="legend-item"><span class="legend-dot l-evaluation"></span>Evaluation</div>
                <div class="legend-item"><span class="legend-dot l-weighting"></span>Weighting</div>
                <div class="legend-item"><span class="legend-dot l-synthesis"></span>Synthesis</div>
                <div class="legend-item"><span class="legend-dot l-outcome"></span>Outcome</div>
                <div class="text-xs text-slate-500 ml-auto">Keyboard: Arrows(pan) / +-(zoom) / R(reset)</div>
            </div>
        </section>

        <!-- ======================================================= -->
        <!-- BOTTOM SECTION: DOCS & TOC                              -->
        <!-- ======================================================= -->
        <section id="documentation" class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden scroll-mt-24">
            <!-- Documentation Header -->
            <div class="border-b border-orange-200 bg-orange-50 px-6 py-4">
                <h2 class="text-lg font-bold text-slate-900 flex items-center">
                    <span class="bg-indigo-600 text-white p-1 rounded mr-3 text-xs shadow-sm font-mono">D</span>
                    Technical Documentation
                </h2>
                <p class="text-slate-600 text-xs mt-1 ml-9">
                    Detailed technical explanation of the indicator's logic, math, and implementation details.
                </p>
            </div>
            <!-- Content Body -->
            <div class="p-6 flex flex-col lg:flex-row gap-12">
                <!-- Left: Article -->
                <article class="flex-1 min-w-0">
                    <div class="prose prose-slate max-w-none prose-headings:scroll-mt-24 prose-headings:font-bold prose-h2:text-2xl prose-h2:border-b prose-h2:pb-2 prose-h2:mt-8 prose-a:text-indigo-600 hover:prose-a:text-indigo-800">
                        <h1 id="chaikinmoneyflow-cmf">ChaikinMoneyFlow (CMF)</h1>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 1: MAIN GUIDE</h2></p>

<h2 id="1-identity">1. Identity</h2>

<p class="mb-4">Full Name: Chaikin Money Flow  </p>
<p class="mb-4">Abbreviation: CMF  </p>
<p class="mb-4">Category: Volume Oscillator  </p>
<p class="mb-4">Creator: Marc Chaikin (1980s)  </p>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">One-Sentence Definition: Chaikin Money Flow measures buying and selling pressure over a period by calculating a volume-weighted average of where prices close within their daily range—positive values indicate accumulation (institutional buying), negative values indicate distribution (institutional selling).</blockquote>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-calculation-logic">2. Calculation Logic</h2>

<h3 id="formula">Formula</h3>

<p class="mb-4">$$CMF = \frac{\sum_{i=1}^{n} MFV_i}{\sum_{i=1}^{n} Volume_i}$$</p>

<p class="mb-4">Where Money Flow Volume is:</p>

<p class="mb-4">$$MFV = MFM \times Volume$$</p>

<p class="mb-4">And Money Flow Multiplier is:</p>

<p class="mb-4">$$MFM = \frac{(Close - Low) - (High - Close)}{High - Low}$$</p>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Step</td><td class="px-4 py-2 border-b border-[#2a2e39]">Formula</td><td class="px-4 py-2 border-b border-[#2a2e39]">Purpose</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">1</td><td class="px-4 py-2 border-b border-[#2a2e39]">$Range = High - Low$</td><td class="px-4 py-2 border-b border-[#2a2e39]">Daily trading range</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">2</td><td class="px-4 py-2 border-b border-[#2a2e39]">$MFM = \frac{(Close - Low) - (High - Close)}{Range}$</td><td class="px-4 py-2 border-b border-[#2a2e39]">Normalized close location (-1 to +1)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">3</td><td class="px-4 py-2 border-b border-[#2a2e39]">$MFV = MFM \times Volume$</td><td class="px-4 py-2 border-b border-[#2a2e39]">Volume-weighted close position</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">4</td><td class="px-4 py-2 border-b border-[#2a2e39]">$CMF = \frac{\sum MFV}{\sum Volume}$</td><td class="px-4 py-2 border-b border-[#2a2e39]">Average over n periods</td></tr>
</table></div>

<h3 id="mfm-values">MFM Values</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Close Position</td><td class="px-4 py-2 border-b border-[#2a2e39]">MFM Value</td><td class="px-4 py-2 border-b border-[#2a2e39]">Interpretation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Close = High</td><td class="px-4 py-2 border-b border-[#2a2e39]">+1.0</td><td class="px-4 py-2 border-b border-[#2a2e39]">Buyers dominated (closed at top)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Close = Midpoint</td><td class="px-4 py-2 border-b border-[#2a2e39]">0.0</td><td class="px-4 py-2 border-b border-[#2a2e39]">Neutral</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Close = Low</td><td class="px-4 py-2 border-b border-[#2a2e39]">-1.0</td><td class="px-4 py-2 border-b border-[#2a2e39]">Sellers dominated (closed at bottom)</td></tr>
</table></div>

<h3 id="real-world-analogy">Real-World Analogy</h3>

<p class="mb-4">Think of CMF as a voting system with weighted ballots. Each day, the market "votes" on whether bulls or bears won (where the close landed in the range). But the vote is weighted by volume—a high-volume day's vote counts more than a quiet day. CMF averages these weighted votes over 21 days to reveal the consensus: Are institutions accumulating (buying) or distributing (selling)?</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-market-standards">3. Market Standards</h2>

<h3 id="default-parameters">Default Parameters</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Parameter</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard Value</td><td class="px-4 py-2 border-b border-[#2a2e39]">Rationale</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Period</td><td class="px-4 py-2 border-b border-[#2a2e39]">21</td><td class="px-4 py-2 border-b border-[#2a2e39]">Approximately one trading month</td></tr>
</table></div>

<h3 id="alternative-parameters">Alternative Parameters</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Use Case</td><td class="px-4 py-2 border-b border-[#2a2e39]">Period</td><td class="px-4 py-2 border-b border-[#2a2e39]">Notes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Scalping</td><td class="px-4 py-2 border-b border-[#2a2e39]">10</td><td class="px-4 py-2 border-b border-[#2a2e39]">More reactive, noisier</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Swing Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">21</td><td class="px-4 py-2 border-b border-[#2a2e39]">Standard configuration</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Position Trading</td><td class="px-4 py-2 border-b border-[#2a2e39]">30+</td><td class="px-4 py-2 border-b border-[#2a2e39]">Smoother, institutional flow</td></tr>
</table></div>

<h3 id="key-levels">Key Levels</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Level</td><td class="px-4 py-2 border-b border-[#2a2e39]">Meaning</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">> +0.25</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong accumulation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">> +0.05</td><td class="px-4 py-2 border-b border-[#2a2e39]">Mild accumulation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">0</td><td class="px-4 py-2 border-b border-[#2a2e39]">Neutral (threshold line)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">< -0.05</td><td class="px-4 py-2 border-b border-[#2a2e39]">Mild distribution</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">< -0.25</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong distribution</td></tr>
</table></div>

<h3 id="timeframe-recommendations">Timeframe Recommendations</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Timeframe</td><td class="px-4 py-2 border-b border-[#2a2e39]">Suitability</td><td class="px-4 py-2 border-b border-[#2a2e39]">Notes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Daily</td><td class="px-4 py-2 border-b border-[#2a2e39]">Excellent</td><td class="px-4 py-2 border-b border-[#2a2e39]">Primary design timeframe</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Weekly</td><td class="px-4 py-2 border-b border-[#2a2e39]">Good</td><td class="px-4 py-2 border-b border-[#2a2e39]">Longer-term flow analysis</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">4-Hour</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td><td class="px-4 py-2 border-b border-[#2a2e39]">Shorter swings</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Intraday</td><td class="px-4 py-2 border-b border-[#2a2e39]">Limited</td><td class="px-4 py-2 border-b border-[#2a2e39]">Volume patterns less reliable</td></tr>
</table></div>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-market-context">4. Market Context</h2>

<h3 id="best-conditions">Best Conditions</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Why It Works</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Trending Markets</td><td class="px-4 py-2 border-b border-[#2a2e39]">Confirms institutional participation in trends</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout Validation</td><td class="px-4 py-2 border-b border-[#2a2e39]">High CMF confirms volume support for breakout</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Divergence Detection</td><td class="px-4 py-2 border-b border-[#2a2e39]">Spots hidden accumulation/distribution</td></tr>
</table></div>

<h3 id="limitations">Limitations</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Problem</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Sideways Markets</td><td class="px-4 py-2 border-b border-[#2a2e39]">Oscillates around zero with frequent false crosses</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Gap Openings</td><td class="px-4 py-2 border-b border-[#2a2e39]">Can produce misleading readings</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Low Liquidity</td><td class="px-4 py-2 border-b border-[#2a2e39]">Thin volume distorts the signal</td></tr>
</table></div>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-entry-signals">5. Entry Signals</h2>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Signal Type</td><td class="px-4 py-2 border-b border-[#2a2e39]">Condition</td><td class="px-4 py-2 border-b border-[#2a2e39]">Direction</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strength</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Zero Cross Up</td><td class="px-4 py-2 border-b border-[#2a2e39]">CMF crosses from - to +</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Zero Cross Down</td><td class="px-4 py-2 border-b border-[#2a2e39]">CMF crosses from + to -</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Moderate</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish Divergence</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price LL, CMF HL</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish Divergence</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price HH, CMF LH</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bearish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Breakout Confirmation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Price breakout + CMF > +0.05</td><td class="px-4 py-2 border-b border-[#2a2e39]">Direction of breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Re-accumulation</td><td class="px-4 py-2 border-b border-[#2a2e39]">CMF bounce off +0.05 after pullback</td><td class="px-4 py-2 border-b border-[#2a2e39]">Bullish</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong</td></tr>
</table></div>

<h3 id="zero-line-cross">Zero Line Cross</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF CMF crosses from negative to positive
THEN → BUY signal (Net flow shifted to accumulation)

IF CMF crosses from positive to negative
THEN → SELL signal (Net flow shifted to distribution)
</code></pre>

<h3 id="divergence-signal">Divergence Signal</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
BULLISH DIVERGENCE:
&nbsp;&nbsp;Price makes Lower Low
&nbsp;&nbsp;CMF makes Higher Low (or stays near zero)
&nbsp;&nbsp;→ Hidden accumulation despite lower prices
&nbsp;&nbsp;→ BUY signal

BEARISH DIVERGENCE:
&nbsp;&nbsp;Price makes Higher High
&nbsp;&nbsp;CMF makes Lower High (or drops below zero)
&nbsp;&nbsp;→ Hidden distribution despite higher prices
&nbsp;&nbsp;→ SELL signal
</code></pre>

<h3 id="breakout-confirmation">Breakout Confirmation</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
IF Price breaks above resistance
AND CMF &gt; +0.05 (Accumulation confirming)
THEN → Valid breakout with institutional support

IF Price breaks resistance BUT CMF &lt; 0
THEN → Suspect breakout, may be a trap
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="6-filter-usage">6. Filter Usage</h2>

<p class="mb-4">CMF confirms whether volume supports price movement.</p>

<h3 id="filter-rules">Filter Rules</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Rule</td><td class="px-4 py-2 border-b border-[#2a2e39]">Application</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">CMF > +0.05</td><td class="px-4 py-2 border-b border-[#2a2e39]">Only take long signals</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">CMF < -0.05</td><td class="px-4 py-2 border-b border-[#2a2e39]">Only take short signals</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">CMF duration</td><td class="px-4 py-2 border-b border-[#2a2e39]">Require 3+ bars above/below threshold</td></tr>
</table></div>

<h3 id="recommended-pairings">Recommended Pairings</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Partner Indicator</td><td class="px-4 py-2 border-b border-[#2a2e39]">Synergy Logic</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Moving Average (200 SMA)</td><td class="px-4 py-2 border-b border-[#2a2e39]">CMF confirms trend direction from MA</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Price Breakout</td><td class="px-4 py-2 border-b border-[#2a2e39]">CMF validates breakout strength</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">RSI</td><td class="px-4 py-2 border-b border-[#2a2e39]">Double confirmation at extremes</td></tr>
</table></div>

<h3 id="institutional-accumulation-filter">Institutional Accumulation Filter</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
STRONG ACCUMULATION SETUP:
&nbsp;&nbsp;Count how many days CMF &gt; 0 in last 20 days
&nbsp;&nbsp;IF Count &gt; 15 AND Price &gt; SMA(50)
&nbsp;&nbsp;THEN → Institutional accumulation confirmed
</code></pre>

<hr class="border-[#2a2e39] my-8">

<h2 id="7-practical-cautions">7. Practical Cautions</h2>

<h3 id="lag-characteristics">Lag Characteristics</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Component</td><td class="px-4 py-2 border-b border-[#2a2e39]">Notes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">First Valid Value</td><td class="px-4 py-2 border-b border-[#2a2e39]">21 bars (period requirement)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Zero Line Cross</td><td class="px-4 py-2 border-b border-[#2a2e39]">May lag price turns by 1-3 bars</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Divergence Formation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Takes 5-15 bars to fully develop</td></tr>
</table></div>

<h3 id="false-signal-scenarios">False Signal Scenarios</h3>

<p class="mb-4">1. Choppy Zero Crosses  </p>
<p class="mb-4">   In sideways markets, CMF oscillates around zero, producing many false buy/sell signals.</p>

<p class="mb-4">2. High = Low (Doji)  </p>
<p class="mb-4">   If High equals Low (no range), the MFM formula divides by zero. Should return 0.</p>

<p class="mb-4">3. Volume Spikes  </p>
<p class="mb-4">   A single high-volume day can distort the CMF reading for weeks.</p>

<h3 id="mitigation-strategies">Mitigation Strategies</h3>

<p class="mb-4">- Use threshold buffers (+/- 0.05) instead of exact zero</p>
<p class="mb-4">- Require duration — CMF positive for 3+ consecutive bars</p>
<p class="mb-4">- Handle edge cases — return 0 when High = Low</p>
<p class="mb-4">- Filter with trend — only trade CMF signals in direction of 200 SMA</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="8-pro-insights">8. Pro Insights</h2>

<h3 id="persistency-matters-more-than-amplitude">Persistency Matters More Than Amplitude</h3>

<p class="mb-4">A stock that maintains CMF > 0 for 3 weeks (even if just +0.05) is being systematically accumulated by institutions. Short-duration spikes to +0.30 are often noise. Focus on how long CMF stays positive, not how high it goes.</p>

<h3 id="the-"buffer"-entry">The "Buffer" Entry</h3>

<p class="mb-4">Don't buy exactly at the zero cross. Wait for CMF to:</p>
<p class="mb-4">1. Rise above +0.05</p>
<p class="mb-4">2. Pull back toward zero (but hold above +0.05)</p>
<p class="mb-4">3. Turn back up</p>

<p class="mb-4">This "re-accumulation" signal is safer than the initial zero cross.</p>

<h3 id="breakout-validation-rule">Breakout Validation Rule</h3>

<p class="mb-4">Before entering any breakout trade, check CMF:</p>
<p class="mb-4">- CMF > 0: Breakout has volume support → Trade it</p>
<p class="mb-4">- CMF < 0: Breakout lacks volume support → Wait or avoid</p>

<p class="mb-4">This single rule filters out many failed breakouts driven by low-conviction moves.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="9-summary">9. Summary</h2>

<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-700 my-4 bg-gray-50 py-2 pr-2 rounded-r">"Chaikin Money Flow reveals where the smart money is—positive values mean institutions are accumulating, negative means they're distributing. Trust CMF persistency (duration above zero) more than amplitude, and use it to validate every breakout."</blockquote>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 2: SUPPLEMENTARY GUIDE</h2></p>

<h2 id="1-core-concept">1. Core Concept</h2>

<p class="mb-4">CMF answers the question: "Over the last month, where did price close within its daily range, weighted by volume?"</p>

<p class="mb-4">- Closes near the high with high volume = Accumulation</p>
<p class="mb-4">- Closes near the low with high volume = Distribution</p>

<p class="mb-4">The zero line is the dividing line between net buyers and net sellers.</p>

<p class="mb-4">Unlike simple volume indicators, CMF incorporates price action (where the close landed) to determine if volume was bullish or bearish.</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="2-statistical-edge">2. Statistical Edge</h2>

<h3 id="breakout-confirmation">Breakout Confirmation</h3>

<p class="mb-4">Breakouts with CMF > +0.10 at the time of breakout have historically shown:</p>
<p class="mb-4">- 65% success rate (price continues in breakout direction)</p>
<p class="mb-4">- Average follow-through of 8% over next 20 bars</p>

<p class="mb-4">Breakouts with CMF < 0 show:</p>
<p class="mb-4">- 45% success rate</p>
<p class="mb-4">- Higher likelihood of becoming false breakouts</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="3-actionable-strategy">3. Actionable Strategy</h2>

<h3 id="strategy-name:-"cmf-trend-confirmation"">Strategy Name: "CMF Trend Confirmation"</h3>

<p class="mb-4">Setup:</p>
<p class="mb-4">1. Price is above 200 SMA (uptrend filter)</p>
<p class="mb-4">2. CMF(21) crosses above +0.05</p>

<p class="mb-4">Entry:</p>
<p class="mb-4">Buy at close of signal bar</p>

<p class="mb-4">Stop Loss:</p>
<p class="mb-4">Below recent swing low</p>

<p class="mb-4">Take Profit:</p>
<p class="mb-4">- Partial exit when CMF crosses back below +0.20</p>
<p class="mb-4">- Final exit when CMF crosses below 0</p>

<p class="mb-4">Position Sizing:</p>
<p class="mb-4">- CMF > +0.10: Full position</p>
<p class="mb-4">- CMF +0.05 to +0.10: 75% position</p>

<hr class="border-[#2a2e39] my-8">

<h2 id="4-risks-&-limitations">4. Risks & Limitations</h2>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Risk</td><td class="px-4 py-2 border-b border-[#2a2e39]">Mitigation</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Division by zero (H=L)</td><td class="px-4 py-2 border-b border-[#2a2e39]">Set MFM to 0 when range is zero</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Zero volume periods</td><td class="px-4 py-2 border-b border-[#2a2e39]">Skip bars with zero volume</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Choppy zero crosses</td><td class="px-4 py-2 border-b border-[#2a2e39]">Use threshold buffer (+/- 0.05)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Volume spike distortion</td><td class="px-4 py-2 border-b border-[#2a2e39]">Consider using median volume for normalization</td></tr>
</table></div>

<hr class="border-[#2a2e39] my-8">

<h2 id="5-further-study">5. Further Study</h2>

<h3 id="creator-attribution">Creator Attribution</h3>

<p class="mb-4">Marc Chaikin developed CMF in the 1980s as an extension of the Accumulation/Distribution Line. Chaikin is also the creator of the Chaikin Oscillator and Chaikin Volatility indicators.</p>

<hr class="border-[#2a2e39] my-8">

<h3 id="55-related-indicators-comparison">5.5 Related Indicators Comparison</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Feature</td><td class="px-4 py-2 border-b border-[#2a2e39]">CMF</td><td class="px-4 py-2 border-b border-[#2a2e39]">OBV</td><td class="px-4 py-2 border-b border-[#2a2e39]">A/D Line</td><td class="px-4 py-2 border-b border-[#2a2e39]">MFI</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Bounded</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes (-1 to +1)</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes (0-100)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Uses Price Location</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes</td><td class="px-4 py-2 border-b border-[#2a2e39]">No</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Period-based</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes (21)</td><td class="px-4 py-2 border-b border-[#2a2e39]">Cumulative</td><td class="px-4 py-2 border-b border-[#2a2e39]">Cumulative</td><td class="px-4 py-2 border-b border-[#2a2e39]">Yes (14)</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">Best For</td><td class="px-4 py-2 border-b border-[#2a2e39]">Flow trend</td><td class="px-4 py-2 border-b border-[#2a2e39]">Volume trend</td><td class="px-4 py-2 border-b border-[#2a2e39]">Divergences</td><td class="px-4 py-2 border-b border-[#2a2e39]">Overbought/Oversold</td></tr>
</table></div>

<p class="mb-4">When to use CMF over alternatives:</p>
<p class="mb-4">- When you need a bounded, period-based reading</p>
<p class="mb-4">- When confirming breakout validity</p>
<p class="mb-4">- When seeking divergences with price</p>

<p class="mb-4"><h2 class="text-2xl font-bold mt-12 mb-6 border-b pb-2">PART 3: ADVANCED SIGNAL REFERENCE</h2></p>

<h2 id="advanced-signal-reference">Advanced Signal Reference</h2>

<h3 id="threshold-matrix">Threshold Matrix</h3>

<div class="overflow-x-auto my-4"><table class="min-w-full divide-y divide-[#2a2e39] text-sm text-left">
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">CMF Value</td><td class="px-4 py-2 border-b border-[#2a2e39]">Volume Context</td><td class="px-4 py-2 border-b border-[#2a2e39]">Interpretation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Action</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">> +0.25</td><td class="px-4 py-2 border-b border-[#2a2e39]">High</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong institutional buying</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong long bias</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">+0.05 to +0.25</td><td class="px-4 py-2 border-b border-[#2a2e39]">Normal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Steady accumulation</td><td class="px-4 py-2 border-b border-[#2a2e39]">Long bias</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">-0.05 to +0.05</td><td class="px-4 py-2 border-b border-[#2a2e39]">Any</td><td class="px-4 py-2 border-b border-[#2a2e39]">Neutral/Indecision</td><td class="px-4 py-2 border-b border-[#2a2e39]">Wait for breakout</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">-0.25 to -0.05</td><td class="px-4 py-2 border-b border-[#2a2e39]">Normal</td><td class="px-4 py-2 border-b border-[#2a2e39]">Steady distribution</td><td class="px-4 py-2 border-b border-[#2a2e39]">Short bias</td></tr>
<tr><td class="px-4 py-2 border-b border-[#2a2e39]">< -0.25</td><td class="px-4 py-2 border-b border-[#2a2e39]">High</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong institutional selling</td><td class="px-4 py-2 border-b border-[#2a2e39]">Strong short bias</td></tr>
</table></div>

<h3 id="signal-patterns">Signal Patterns</h3>

<h4 id="zero-line-crossover-detection">Zero Line Crossover Detection</h4>
<p class="mb-4">The zero line crossover is the most fundamental CMF signal. When CMF crosses from negative to positive, it indicates a shift from net distribution to net accumulation—institutional buying pressure is now outweighing selling. This signal works best when confirmed with price action and has moderate reliability in trending markets.</p>

<h4 id="divergence-detection">Divergence Detection</h4>
<p class="mb-4">CMF divergences are powerful leading indicators. A bullish divergence occurs when price makes a lower low but CMF makes a higher low, suggesting hidden accumulation despite falling prices. Bearish divergences show the opposite pattern. These signals are particularly reliable when CMF has been in extreme territory and typically precede price reversals by 5-15 bars.</p>

<h4 id="persistence-analysis">Persistence Analysis</h4>
<p class="mb-4">Tracking how long CMF remains positive or negative is more valuable than individual values. Persistent accumulation (CMF staying positive for 15+ of the last 20 days) indicates systematic institutional buying and often precedes major price advances. This pattern is especially powerful when combined with price above key moving averages.</p>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-python">
def cmf_zero_cross(cmf_values):
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Detect zero line crossover signals&quot;&quot;&quot;
&nbsp;&nbsp;&nbsp;&nbsp;cross_up = cmf_values[-2] &lt; 0 and cmf_values[-1] &gt; 0
&nbsp;&nbsp;&nbsp;&nbsp;cross_down = cmf_values[-2] &gt; 0 and cmf_values[-1] &lt; 0
&nbsp;&nbsp;&nbsp;&nbsp;return cross_up, cross_down

def cmf_divergence(prices, cmf_values, lookback=20):
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Detect bullish/bearish divergences&quot;&quot;&quot;
&nbsp;&nbsp;&nbsp;&nbsp;price_ll = prices[-1] &lt; min(prices[-lookback:-1])
&nbsp;&nbsp;&nbsp;&nbsp;cmf_hl = cmf_values[-1] &gt; min(cmf_values[-lookback:-1])
&nbsp;&nbsp;&nbsp;&nbsp;bullish_div = price_ll and cmf_hl
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;price_hh = prices[-1] &gt; max(prices[-lookback:-1])
&nbsp;&nbsp;&nbsp;&nbsp;cmf_lh = cmf_values[-1] &lt; max(cmf_values[-lookback:-1])
&nbsp;&nbsp;&nbsp;&nbsp;bearish_div = price_hh and cmf_lh
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;return bullish_div, bearish_div

def cmf_persistence(cmf_values, threshold=0, days=15, lookback=20):
&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Detect persistent accumulation/distribution&quot;&quot;&quot;
&nbsp;&nbsp;&nbsp;&nbsp;count_above = sum(1 for v in cmf_values[-lookback:] if v &gt; threshold)
&nbsp;&nbsp;&nbsp;&nbsp;return count_above &gt;= days
</code></pre>

<h3 id="screening-filters">Screening Filters</h3>

<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
// Institutional Accumulation Scan
Count_Positive = SUM(CMF(21) &gt; 0, 20)
IF (Count_Positive &gt; 15) AND (Price &gt; SMA(50))
THEN Signal = STRONG_ACCUMULATION

// Breakout Validation Filter
IF (Price breaks above 20-day high)
AND (CMF(21) &gt; +0.05)
THEN Signal = VALID_BREAKOUT

// Re-accumulation Entry
IF (CMF(21) &gt; +0.05)
AND (CMF(21)[1] &lt; CMF(21))  // CMF turning up
AND (CMF(21) was &gt; +0.10 within last 10 bars)
THEN Signal = REACCUMULATION_BUY

// Distribution Warning
IF (CMF(21) &lt; -0.10)
AND (Price &gt; SMA(50))
THEN Warning = DISTRIBUTION_IN_UPTREND
</code></pre>

<h3 id="combination-strategies">Combination Strategies</h3>

<h4 id="cmf-+-200-sma-trend-filter">CMF + 200 SMA Trend Filter</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
LONG SETUP:
&nbsp;&nbsp;Price &gt; 200 SMA (Macro uptrend)
&nbsp;&nbsp;CMF(21) &gt; +0.05 (Accumulation)
&nbsp;&nbsp;→ Buy with stop below recent swing low

SHORT SETUP:
&nbsp;&nbsp;Price &lt; 200 SMA (Macro downtrend)
&nbsp;&nbsp;CMF(21) &lt; -0.05 (Distribution)
&nbsp;&nbsp;→ Short with stop above recent swing high

FILTER:
&nbsp;&nbsp;Ignore CMF sell signals when Price &gt; 200 SMA
&nbsp;&nbsp;Treat as noise/pullback, not distribution
</code></pre>

<h4 id="cmf-+-breakout-system">CMF + Breakout System</h4>
<pre class="whitespace-pre overflow-x-auto bg-slate-800 text-slate-100 p-4 rounded"><code class="language-">
BREAKOUT VALIDATION:
&nbsp;&nbsp;Price breaks above 52-week high
&nbsp;&nbsp;IF CMF &gt; 0: Valid breakout → Full position
&nbsp;&nbsp;IF CMF &lt; 0: Suspect breakout → Skip or 50% position

EXIT:
&nbsp;&nbsp;CMF crosses below 0
&nbsp;&nbsp;OR Price closes below 20 SMA
</code></pre>






                    </div>
                </article>
                <!-- Right: Sticky TOC -->
                <aside class="lg:block w-64 flex-shrink-0">
                    <div class="sticky top-24">
                        <h3 class="font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100 text-sm uppercase tracking-wider">
                            On this page
                        </h3>
                        <nav id="toc-nav" class="space-y-1 text-sm text-slate-600">
                            <a href="#1-identity" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Identity</a>
<a href="#2-calculation-logic" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Calculation Logic</a>
<a href="#formula" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Formula</a>
<a href="#mfm-values" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">MFM Values</a>
<a href="#real-world-analogy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Real-World Analogy</a>
<a href="#3-market-standards" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Market Standards</a>
<a href="#default-parameters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Default Parameters</a>
<a href="#alternative-parameters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Alternative Parameters</a>
<a href="#key-levels" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Key Levels</a>
<a href="#timeframe-recommendations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Timeframe Recommendations</a>
<a href="#4-market-context" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Market Context</a>
<a href="#best-conditions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Best Conditions</a>
<a href="#limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Limitations</a>
<a href="#5-entry-signals" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Entry Signals</a>
<a href="#zero-line-cross" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Zero Line Cross</a>
<a href="#divergence-signal" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Divergence Signal</a>
<a href="#breakout-confirmation" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Breakout Confirmation</a>
<a href="#6-filter-usage" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">6. Filter Usage</a>
<a href="#filter-rules" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Filter Rules</a>
<a href="#recommended-pairings" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Recommended Pairings</a>
<a href="#institutional-accumulation-filter" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Institutional Accumulation Filter</a>
<a href="#7-practical-cautions" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">7. Practical Cautions</a>
<a href="#lag-characteristics" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Lag Characteristics</a>
<a href="#false-signal-scenarios" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">False Signal Scenarios</a>
<a href="#mitigation-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Mitigation Strategies</a>
<a href="#8-pro-insights" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">8. Pro Insights</a>
<a href="#persistency-matters-more-than-amplitude" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Persistency Matters More Than Amplitude</a>
<a href="#the-"buffer"-entry" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">The "Buffer" Entry</a>
<a href="#breakout-validation-rule" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Breakout Validation Rule</a>
<a href="#9-summary" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">9. Summary</a>
<a href="#1-core-concept" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">1. Core Concept</a>
<a href="#2-statistical-edge" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">2. Statistical Edge</a>
<a href="#breakout-confirmation" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Breakout Confirmation</a>
<a href="#3-actionable-strategy" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">3. Actionable Strategy</a>
<a href="#strategy-name:-"cmf-trend-confirmation"" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Strategy Name: "CMF Trend Confirmation"</a>
<a href="#4-risks-&-limitations" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">4. Risks & Limitations</a>
<a href="#5-further-study" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">5. Further Study</a>
<a href="#creator-attribution" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Creator Attribution</a>
<a href="#55-related-indicators-comparison" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">5.5 Related Indicators Comparison</a>
<a href="#advanced-signal-reference" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors ">Advanced Signal Reference</a>
<a href="#threshold-matrix" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Threshold Matrix</a>
<a href="#signal-patterns" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Signal Patterns</a>
<a href="#screening-filters" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Screening Filters</a>
<a href="#combination-strategies" class="toc-link block py-1 px-2 rounded hover:bg-slate-50 transition-colors pl-4">Combination Strategies</a>

                        </nav>
                        <div class="mt-8 pt-4 border-t border-slate-100">
                            <a href="#" class="text-xs text-slate-400 hover:text-indigo-600 flex items-center transition-colors">
                                Back to Top
                            </a>
                        </div>
                    </div>
                </aside>
            </div>
        </section>


    </div>


        <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-12">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <p class="text-center text-slate-400 text-sm">
                &copy; 2023-2025 I ant I Investigates. All rights reserved.
            </p>
        </div>
    </footer>
        <!-- ========================================== -->
    <!-- 1. DATA & LOGIC INJECTION                  -->
    <!-- ========================================== -->
    <script>
        window.IndicatorLogic = {
            name: "ChaikinMoneyFlow",
            params: [],
            calculate: null
        };
        (function() {
            try {
                const injectedCode = `
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 21;
                const result = ChaikinMoneyFlow.calculate(data, period);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
        `;
                const isTemplatePlaceholder = injectedCode.includes('{{') && injectedCode.includes('CODE_INDICATOR_LOGIC');
                if (injectedCode && injectedCode.trim().length > 0 && !isTemplatePlaceholder) {
                    new Function(injectedCode)();
                } else {
                    console.warn("Playground Logic: Running in Preview/Fallback mode.");
                    window.IndicatorLogic.calculate = () => []; 
                }
            } catch (e) {
                console.error("Critical Error in Logic Injection:", e);
                window.IndicatorLogic.calculate = () => [];
            }
        })();
    </script>

    <!-- ========================================== -->
    <!-- 2. VISUALIZATION ENGINE                    -->
    <!-- ========================================== -->
    <script>
        mermaid.initialize({ startOnLoad: false, theme: 'neutral', securityLevel: 'loose' });
    </script>
    <!-- ========================================== -->
    <!-- 3. UI CONTROLLERS & APP INITIALIZATION     -->
    <!-- ========================================== -->
    <!-- INLINE UI CONTROLLERS (PORTED FROM 0117) -->
    <script src="../assets/js/ChaikinMoneyFlow.js"></script>
    <!-- JSON Data Containers (XSS-safe) -->
    <script id="data-indicator-config" type="application/json">
[{"id": "period", "label": "Period (21)", "type": "number", "value": 21, "min": 2, "max": 100}]
    </script>
    <script id="data-indicator-display" type="application/json">
{"isOverlay": true, "plots": {"main": {"label": "ChaikinMoneyFlow", "color": "#4f46e5", "type": "line"}}}
    </script>
    <script>
        // --- 0. Indicator Data Injection ---
        // Use existing IndicatorLogic (set in earlier script block), only set if not exists
        var IndicatorLogic = window.IndicatorLogic || { calculate: null };
        var IndicatorConfig = [];
        var IndicatorDisplay = { isOverlay: false, plots: {} };

        // 1. Library Code - loaded externally before this block

        // 2. Configuration (XSS-safe via script type="application/json")
        try {
            var configEl = document.getElementById('data-indicator-config');
            if(configEl && configEl.textContent.trim()) {
                IndicatorConfig = JSON.parse(configEl.textContent);
            }
        } catch(e){ console.warn('Config parse error', e); }

        try {
            var displayEl = document.getElementById('data-indicator-display');
            if(displayEl && displayEl.textContent.trim()) {
                IndicatorDisplay = JSON.parse(displayEl.textContent);
            }
        } catch(e){ console.warn('Display parse error', e); }

        // 3. Logic Adapter
        window.IndicatorLogic = {
            calculate: (data, params) => {
                const period = params.period || 21;
                const result = ChaikinMoneyFlow.calculate(data, period);
                // Handle both array and object returns
                if (Array.isArray(result)) {
                    return { main: result };
                }
                return result;
            }
        };
    </script>

    <!-- UI Controllers: indicator.js loads first to define PlaygroundController -->
    <script src="../assets/js/indicator.js" defer></script>
    <!-- script.js loads second, skips PlaygroundController if already defined -->
    <script src="../assets/js/script.js" defer></script>

</body>
</html>